{
  "S": 0.98,
  "M": 0.74,
  "E": 1.0,
  "Overall": 0.91,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.25,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.0,
    "penalty": 0.0,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 1.0,
    "support": 0.3333333333333333,
    "order": 1.0,
    "conditional": 0.0,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.7499999999999999,
    "source": "rule+llm",
    "intent": {
      "need_condition": true,
      "need_conditional_notify": true,
      "need_db": true,
      "need_email": false,
      "need_form": false,
      "need_http": true,
      "need_schedule": false,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": true
    },
    "intent_chain": [
      "The workflow involves ingesting data, which suggests the need for HTTP to pull data from external sources.",
      "Detecting violations implies the need for a database to store and analyze the data.",
      "Alerting authorities indicates a need for conditional notifications based on the detection of violations.",
      "The complexity of maritime environmental monitoring suggests the need for data transformation to analyze the ingested data.",
      "Conditions must be checked to determine if violations have occurred, indicating a need for conditional logic."
    ],
    "irrelevant_nodes": [
      "1",
      "4"
    ],
    "intent_caps": [
      "condition",
      "db",
      "http",
      "transform"
    ],
    "intent_edges": [
      [
        "transform",
        "db"
      ],
      [
        "http",
        "db"
      ],
      [
        "condition",
        "action"
      ]
    ],
    "missing_capabilities": [
      "condition",
      "db"
    ],
    "alignment": {
      "capability_matches": {
        "http": true,
        "condition": false,
        "transform": true,
        "db": false
      },
      "edge_matches": [
        {
          "from": "transform",
          "to": "db",
          "ok": false,
          "path_nodes": []
        },
        {
          "from": "http",
          "to": "db",
          "ok": false,
          "path_nodes": []
        },
        {
          "from": "condition",
          "to": "action",
          "ok": false,
          "path_nodes": []
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "intent_edge",
        "from": "transform",
        "to": "db",
        "applicable": false,
        "ok": null,
        "sources": [
          "3"
        ],
        "targets": [],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "intent_edge",
        "from": "http",
        "to": "db",
        "applicable": false,
        "ok": null,
        "sources": [
          "2"
        ],
        "targets": [],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "action",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "4"
        ],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "http->db(optional)",
        "from": "http",
        "to": "db",
        "applicable": false,
        "ok": null,
        "sources": [
          "2"
        ],
        "targets": [],
        "path": [],
        "note": "not applicable (optional)"
      },
      {
        "rule": "transform->db(optional)",
        "from": "transform",
        "to": "db",
        "applicable": false,
        "ok": null,
        "sources": [
          "3"
        ],
        "targets": [],
        "path": [],
        "note": "not applicable (optional)"
      },
      {
        "rule": "condition->action(optional)",
        "from": "condition",
        "to": "action",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "4"
        ],
        "path": [],
        "note": "not applicable (optional)"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "top_k": 3,
        "threshold": 0.55,
        "boosted": [],
        "note": "soft relevance boost by embeddings (batch)"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "condition",
        "db",
        "http",
        "transform"
      ],
      "intent_edges": [
        {
          "from": "transform",
          "to": "db",
          "ok": false,
          "path": []
        },
        {
          "from": "http",
          "to": "db",
          "ok": false,
          "path": []
        },
        {
          "from": "condition",
          "to": "action",
          "ok": false,
          "path": []
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Schedule Data Ingestion",
          "capability": "schedule",
          "relevant": false
        },
        {
          "id": "2",
          "label": "Ingest Data",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "3",
          "label": "Detect Violations",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Alert Authorities",
          "capability": "slack",
          "relevant": false
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        }
      ],
      "relevant_nodes": [
        "2",
        "3"
      ],
      "irrelevant_nodes": [
        "1",
        "4"
      ],
      "missing_capabilities": [
        "condition",
        "db"
      ]
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 1.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 4
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": false,
      "required_fields": {},
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "3": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "4": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ]
      },
      "missing_fields": {}
    },
    "executed_nodes": [
      "1",
      "2",
      "3",
      "4"
    ],
    "executed_nodes_readable": [
      "Schedule Data Ingestion",
      "Ingest Data",
      "Detect Violations",
      "Alert Authorities"
    ],
    "name_map": {
      "1": "Schedule Data Ingestion",
      "2": "Ingest Data",
      "3": "Detect Violations",
      "4": "Alert Authorities"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "cron ok"
      },
      "2": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "3": {
        "ok": true,
        "msg": "noop"
      },
      "4": {
        "ok": true,
        "msg": "slack ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Schedule Data Ingestion",
    "Ingest Data",
    "Detect Violations",
    "Alert Authorities"
  ]
}