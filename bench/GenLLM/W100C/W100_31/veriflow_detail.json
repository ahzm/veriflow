{
  "S": 0.98,
  "M": 0.69,
  "E": 1.0,
  "Overall": 0.89,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.16666666666666669,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.0,
    "penalty": 0.0,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 1.0,
    "support": 0.0,
    "order": 1.0,
    "conditional": 0.0,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.75,
    "source": "rule+llm",
    "intent": {
      "need_condition": true,
      "need_conditional_notify": true,
      "need_db": false,
      "need_email": false,
      "need_form": false,
      "need_http": false,
      "need_schedule": false,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": true
    },
    "intent_chain": [
      "The workflow involves managing responses, indicating a need for conditions to handle different utility outages.",
      "Coordinating responses suggests that data transformation may be necessary to adapt information across utilities.",
      "Conditional notifications are likely needed to inform relevant parties based on the specific utility outage detected."
    ],
    "irrelevant_nodes": [
      "1",
      "2",
      "3",
      "4"
    ],
    "intent_caps": [
      "condition",
      "transform"
    ],
    "intent_edges": [
      [
        "condition",
        "action"
      ]
    ],
    "missing_capabilities": [
      "transform"
    ],
    "alignment": {
      "capability_matches": {
        "condition": true,
        "transform": false
      },
      "edge_matches": [
        {
          "from": "condition",
          "to": "action",
          "ok": true,
          "path_nodes": [
            "5",
            "6"
          ]
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "support_transform_required",
        "from": "intent",
        "to": "transform",
        "applicable": true,
        "ok": false,
        "sources": [],
        "targets": [],
        "path": [],
        "note": "transform requested but missing; support score forced to 0"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "action",
        "applicable": true,
        "ok": true,
        "sources": [
          "5",
          "6"
        ],
        "targets": [
          "5",
          "6"
        ],
        "path": [
          "5",
          "6"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "condition->action(optional)",
        "from": "condition",
        "to": "action",
        "applicable": true,
        "ok": true,
        "sources": [
          "5",
          "6"
        ],
        "targets": [
          "5",
          "6"
        ],
        "path": [
          "5",
          "6"
        ],
        "note": "optional semantic path found"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "top_k": 3,
        "threshold": 0.55,
        "boosted": [],
        "note": "soft relevance boost by embeddings (batch)"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "condition",
        "transform"
      ],
      "intent_edges": [
        {
          "from": "condition",
          "to": "action",
          "ok": true,
          "path": [
            "5",
            "6"
          ]
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Schedule Outage Check",
          "capability": "schedule",
          "relevant": false
        },
        {
          "id": "2",
          "label": "Check Electricity Status",
          "capability": "http",
          "relevant": false
        },
        {
          "id": "3",
          "label": "Check Water Status",
          "capability": "http",
          "relevant": false
        },
        {
          "id": "4",
          "label": "Check Telecom Status",
          "capability": "http",
          "relevant": false
        },
        {
          "id": "5",
          "label": "Notify Coordination Team",
          "capability": "email",
          "relevant": true
        },
        {
          "id": "6",
          "label": "Send Slack Notification",
          "capability": "slack",
          "relevant": true
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        },
        {
          "source": "4",
          "target": "5"
        },
        {
          "source": "4",
          "target": "6"
        }
      ],
      "relevant_nodes": [
        "5",
        "6"
      ],
      "irrelevant_nodes": [
        "1",
        "2",
        "3",
        "4"
      ],
      "missing_capabilities": [
        "transform"
      ]
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 1.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 6
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": false,
      "required_fields": {},
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "3": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "4": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "5": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "6": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ]
      },
      "missing_fields": {}
    },
    "executed_nodes": [
      "1",
      "2",
      "3",
      "4",
      "5",
      "6"
    ],
    "executed_nodes_readable": [
      "Schedule Outage Check",
      "Check Electricity Status",
      "Check Water Status",
      "Check Telecom Status",
      "Notify Coordination Team",
      "Send Slack Notification"
    ],
    "name_map": {
      "1": "Schedule Outage Check",
      "2": "Check Electricity Status",
      "3": "Check Water Status",
      "4": "Check Telecom Status",
      "5": "Notify Coordination Team",
      "6": "Send Slack Notification"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "cron ok"
      },
      "2": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "3": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "4": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "5": {
        "ok": true,
        "msg": "email ok (mock)"
      },
      "6": {
        "ok": true,
        "msg": "slack ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Schedule Outage Check",
    "Check Electricity Status",
    "Check Water Status",
    "Check Telecom Status",
    "Notify Coordination Team",
    "Send Slack Notification"
  ]
}