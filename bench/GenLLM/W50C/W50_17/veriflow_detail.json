{
  "S": 0.98,
  "M": 0.96,
  "E": 1.0,
  "Overall": 0.98,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.14285714285714285,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.0,
    "penalty": 0.0,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 1.0,
    "support": 0.75,
    "order": 1.0,
    "conditional": 1.0,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.7666666666666666,
    "source": "rule+llm",
    "intent": {
      "need_condition": true,
      "need_conditional_notify": true,
      "need_db": true,
      "need_email": true,
      "need_form": true,
      "need_http": false,
      "need_schedule": false,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": true
    },
    "intent_chain": [
      "The workflow involves notifying applicants, indicating the need for email notifications.",
      "The process includes intake applications and verifying documents, suggesting the use of forms.",
      "Computing eligibility scores implies the need for data transformation.",
      "Routing to reviewers and aggregating decisions indicates the need for database interactions.",
      "Updating a funding dashboard suggests conditional notifications based on decisions."
    ],
    "irrelevant_nodes": [
      "7"
    ],
    "intent_caps": [
      "condition",
      "db",
      "email",
      "form",
      "transform"
    ],
    "intent_edges": [
      [
        "form",
        "transform"
      ],
      [
        "transform",
        "db"
      ],
      [
        "condition",
        "email"
      ],
      [
        "condition",
        "action"
      ]
    ],
    "missing_capabilities": [
      "db"
    ],
    "alignment": {
      "capability_matches": {
        "db": false,
        "condition": true,
        "transform": true,
        "form": true,
        "email": true
      },
      "edge_matches": [
        {
          "from": "form",
          "to": "transform",
          "ok": true,
          "path_nodes": [
            "1",
            "2"
          ]
        },
        {
          "from": "transform",
          "to": "db",
          "ok": false,
          "path_nodes": []
        },
        {
          "from": "condition",
          "to": "email",
          "ok": true,
          "path_nodes": [
            "6"
          ]
        },
        {
          "from": "condition",
          "to": "action",
          "ok": true,
          "path_nodes": [
            "2",
            "3",
            "4",
            "6"
          ]
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "intent_edge",
        "from": "form",
        "to": "transform",
        "applicable": true,
        "ok": true,
        "sources": [
          "1"
        ],
        "targets": [
          "2",
          "3",
          "5"
        ],
        "path": [
          "1",
          "2"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "transform",
        "to": "db",
        "applicable": false,
        "ok": null,
        "sources": [
          "2",
          "3",
          "5"
        ],
        "targets": [],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "2",
          "6"
        ],
        "targets": [
          "6"
        ],
        "path": [
          "6"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "action",
        "applicable": true,
        "ok": true,
        "sources": [
          "2",
          "6"
        ],
        "targets": [
          "4",
          "6"
        ],
        "path": [
          "2",
          "3",
          "4",
          "6"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "form->transform(required)",
        "from": "form",
        "to": "transform",
        "applicable": true,
        "ok": true,
        "sources": [
          "1"
        ],
        "targets": [
          "2",
          "3",
          "5"
        ],
        "path": [
          "1",
          "2"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "form->db(optional)",
        "from": "form",
        "to": "db",
        "applicable": false,
        "ok": null,
        "sources": [
          "1"
        ],
        "targets": [],
        "path": [],
        "note": "not applicable (optional)"
      },
      {
        "rule": "transform->db(optional)",
        "from": "transform",
        "to": "db",
        "applicable": false,
        "ok": null,
        "sources": [
          "2",
          "3",
          "5"
        ],
        "targets": [],
        "path": [],
        "note": "not applicable (optional)"
      },
      {
        "rule": "condition->email(required)",
        "from": "condition",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "2",
          "6"
        ],
        "targets": [
          "6"
        ],
        "path": [
          "6"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "db->email(optional)",
        "from": "db",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "6"
        ],
        "path": [],
        "note": "not applicable (optional)"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "top_k": 3,
        "threshold": 0.55,
        "boosted": [],
        "note": "soft relevance boost by embeddings (batch)"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "condition",
        "db",
        "email",
        "form",
        "transform"
      ],
      "intent_edges": [
        {
          "from": "form",
          "to": "transform",
          "ok": true,
          "path": [
            "1",
            "2"
          ]
        },
        {
          "from": "transform",
          "to": "db",
          "ok": false,
          "path": []
        },
        {
          "from": "condition",
          "to": "email",
          "ok": true,
          "path": [
            "6"
          ]
        },
        {
          "from": "condition",
          "to": "action",
          "ok": true,
          "path": [
            "2",
            "3",
            "4",
            "6"
          ]
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Intake Applications",
          "capability": "schedule",
          "relevant": true
        },
        {
          "id": "2",
          "label": "Verify Supporting Documents",
          "capability": "condition",
          "relevant": true
        },
        {
          "id": "3",
          "label": "Compute Eligibility Scores",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Route to Reviewers",
          "capability": "slack",
          "relevant": true
        },
        {
          "id": "5",
          "label": "Aggregate Decisions",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "6",
          "label": "Notify Applicants",
          "capability": "email",
          "relevant": true
        },
        {
          "id": "7",
          "label": "Update Funding Dashboard",
          "capability": "http",
          "relevant": false
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        },
        {
          "source": "4",
          "target": "5"
        },
        {
          "source": "5",
          "target": "6"
        },
        {
          "source": "5",
          "target": "7"
        }
      ],
      "relevant_nodes": [
        "1",
        "2",
        "3",
        "4",
        "5",
        "6"
      ],
      "irrelevant_nodes": [
        "7"
      ],
      "missing_capabilities": [
        "db"
      ]
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 1.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 7
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": false,
      "required_fields": {},
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "timestamp"
        ],
        "3": [
          "timestamp"
        ],
        "4": [
          "timestamp"
        ],
        "5": [
          "timestamp"
        ],
        "6": [
          "timestamp"
        ],
        "7": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ]
      },
      "missing_fields": {}
    },
    "executed_nodes": [
      "1",
      "2",
      "3",
      "4",
      "5",
      "6",
      "7"
    ],
    "executed_nodes_readable": [
      "Intake Applications",
      "Verify Supporting Documents",
      "Compute Eligibility Scores",
      "Route to Reviewers",
      "Aggregate Decisions",
      "Notify Applicants",
      "Update Funding Dashboard"
    ],
    "name_map": {
      "1": "Intake Applications",
      "2": "Verify Supporting Documents",
      "3": "Compute Eligibility Scores",
      "4": "Route to Reviewers",
      "5": "Aggregate Decisions",
      "6": "Notify Applicants",
      "7": "Update Funding Dashboard"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "noop"
      },
      "2": {
        "ok": true,
        "msg": "noop"
      },
      "3": {
        "ok": true,
        "msg": "noop"
      },
      "4": {
        "ok": true,
        "msg": "slack ok (mock)"
      },
      "5": {
        "ok": true,
        "msg": "noop"
      },
      "6": {
        "ok": true,
        "msg": "email ok (mock)"
      },
      "7": {
        "ok": true,
        "msg": "http ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Intake Applications",
    "Verify Supporting Documents",
    "Compute Eligibility Scores",
    "Route to Reviewers",
    "Aggregate Decisions",
    "Notify Applicants",
    "Update Funding Dashboard"
  ]
}