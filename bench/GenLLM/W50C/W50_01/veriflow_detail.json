{
  "S": 0.98,
  "M": 0.79,
  "E": 1.0,
  "Overall": 0.92,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.16666666666666669,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.0,
    "penalty": 0.0,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 1.0,
    "support": 0.6666666666666666,
    "order": 1.0,
    "conditional": 0.0,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.85,
    "source": "rule+llm",
    "intent": {
      "need_condition": true,
      "need_conditional_notify": true,
      "need_db": true,
      "need_email": true,
      "need_form": false,
      "need_http": false,
      "need_schedule": false,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": true
    },
    "intent_chain": [
      "rule: matched need_db keywords",
      "The workflow involves sending region-specific discrepancy reports, indicating a need for email notifications.",
      "Updating a global HR database confirms the need for database operations.",
      "Detecting inconsistencies suggests the need for conditions to identify discrepancies.",
      "Harmonizing employee records implies data transformation processes are required.",
      "Sending reports based on detected discrepancies indicates a need for conditional notifications."
    ],
    "irrelevant_nodes": [
      "1",
      "2"
    ],
    "intent_caps": [
      "condition",
      "db",
      "email",
      "transform"
    ],
    "intent_edges": [
      [
        "transform",
        "db"
      ],
      [
        "condition",
        "email"
      ],
      [
        "condition",
        "action"
      ]
    ],
    "missing_capabilities": [
      "condition"
    ],
    "alignment": {
      "capability_matches": {
        "db": true,
        "condition": false,
        "transform": true,
        "email": true
      },
      "edge_matches": [
        {
          "from": "transform",
          "to": "db",
          "ok": true,
          "path_nodes": [
            "3",
            "4",
            "5"
          ]
        },
        {
          "from": "condition",
          "to": "email",
          "ok": false,
          "path_nodes": []
        },
        {
          "from": "condition",
          "to": "action",
          "ok": false,
          "path_nodes": []
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "intent_edge",
        "from": "transform",
        "to": "db",
        "applicable": true,
        "ok": true,
        "sources": [
          "3",
          "4"
        ],
        "targets": [
          "5"
        ],
        "path": [
          "3",
          "4",
          "5"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "6"
        ],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "action",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "6"
        ],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "transform->db(optional)",
        "from": "transform",
        "to": "db",
        "applicable": true,
        "ok": true,
        "sources": [
          "3",
          "4"
        ],
        "targets": [
          "5"
        ],
        "path": [
          "3",
          "4",
          "5"
        ],
        "note": "optional semantic path found"
      },
      {
        "rule": "condition->email(required)",
        "from": "condition",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "6"
        ],
        "path": [],
        "note": "not applicable (sources/targets empty or graph missing)"
      },
      {
        "rule": "db->email(optional)",
        "from": "db",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "5"
        ],
        "targets": [
          "6"
        ],
        "path": [
          "5",
          "6"
        ],
        "note": "optional semantic path found"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "top_k": 3,
        "threshold": 0.55,
        "boosted": [],
        "note": "soft relevance boost by embeddings (batch)"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "condition",
        "db",
        "email",
        "transform"
      ],
      "intent_edges": [
        {
          "from": "transform",
          "to": "db",
          "ok": true,
          "path": [
            "3",
            "4",
            "5"
          ]
        },
        {
          "from": "condition",
          "to": "email",
          "ok": false,
          "path": []
        },
        {
          "from": "condition",
          "to": "action",
          "ok": false,
          "path": []
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Schedule HR Data Fetch",
          "capability": "schedule",
          "relevant": false
        },
        {
          "id": "2",
          "label": "Fetch Regional HR Data",
          "capability": "http",
          "relevant": false
        },
        {
          "id": "3",
          "label": "Harmonize Employee Records",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Detect Inconsistencies",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "5",
          "label": "Update Global HR Database",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "6",
          "label": "Send Discrepancy Report to HR Managers",
          "capability": "email",
          "relevant": true
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        },
        {
          "source": "4",
          "target": "5"
        },
        {
          "source": "5",
          "target": "6"
        }
      ],
      "relevant_nodes": [
        "3",
        "4",
        "5",
        "6"
      ],
      "irrelevant_nodes": [
        "1",
        "2"
      ],
      "missing_capabilities": [
        "condition"
      ]
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 1.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 6
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": false,
      "required_fields": {},
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "3": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "4": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "5": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "6": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ]
      },
      "missing_fields": {}
    },
    "executed_nodes": [
      "1",
      "2",
      "3",
      "4",
      "5",
      "6"
    ],
    "executed_nodes_readable": [
      "Schedule HR Data Fetch",
      "Fetch Regional HR Data",
      "Harmonize Employee Records",
      "Detect Inconsistencies",
      "Update Global HR Database",
      "Send Discrepancy Report to HR Managers"
    ],
    "name_map": {
      "1": "Schedule HR Data Fetch",
      "2": "Fetch Regional HR Data",
      "3": "Harmonize Employee Records",
      "4": "Detect Inconsistencies",
      "5": "Update Global HR Database",
      "6": "Send Discrepancy Report to HR Managers"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "cron ok"
      },
      "2": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "3": {
        "ok": true,
        "msg": "noop"
      },
      "4": {
        "ok": true,
        "msg": "noop"
      },
      "5": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "6": {
        "ok": true,
        "msg": "email ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Schedule HR Data Fetch",
    "Fetch Regional HR Data",
    "Harmonize Employee Records",
    "Detect Inconsistencies",
    "Update Global HR Database",
    "Send Discrepancy Report to HR Managers"
  ]
}