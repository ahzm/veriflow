{
  "S": 0.98,
  "M": 1.0,
  "E": 1.0,
  "Overall": 0.99,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.2,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.0,
    "penalty": 0.0,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 1.0,
    "support": 1.0,
    "order": 1.0,
    "conditional": 1.0,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.8833333333333333,
    "source": "rule+llm",
    "intent": {
      "need_condition": true,
      "need_conditional_notify": true,
      "need_db": false,
      "need_email": true,
      "need_form": true,
      "need_http": true,
      "need_schedule": false,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": true
    },
    "intent_chain": [
      "rule: matched need_http keywords",
      "rule: matched need_form keywords",
      "The workflow involves managing loan applications, indicating the need for forms to intake data.",
      "Performing credit checks via API suggests the need for HTTP requests.",
      "Calculating risk scores implies a transformation of data based on input.",
      "Routing high-risk applications to manual review indicates a conditional process.",
      "Auto-approving low-risk applications suggests a need for conditional notifications to inform applicants.",
      "Notifying applicants with personalized decisions indicates the need for email communication."
    ],
    "irrelevant_nodes": [
      "4"
    ],
    "intent_caps": [
      "condition",
      "email",
      "form",
      "http",
      "transform"
    ],
    "intent_edges": [
      [
        "form",
        "transform"
      ],
      [
        "condition",
        "email"
      ],
      [
        "condition",
        "action"
      ]
    ],
    "missing_capabilities": [],
    "alignment": {
      "capability_matches": {
        "condition": true,
        "transform": true,
        "form": true,
        "http": true,
        "email": true
      },
      "edge_matches": [
        {
          "from": "form",
          "to": "transform",
          "ok": true,
          "path_nodes": [
            "1",
            "2",
            "3"
          ]
        },
        {
          "from": "condition",
          "to": "email",
          "ok": true,
          "path_nodes": [
            "6"
          ]
        },
        {
          "from": "condition",
          "to": "action",
          "ok": true,
          "path_nodes": [
            "6"
          ]
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "intent_edge",
        "from": "form",
        "to": "transform",
        "applicable": true,
        "ok": true,
        "sources": [
          "1"
        ],
        "targets": [
          "3"
        ],
        "path": [
          "1",
          "2",
          "3"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "6"
        ],
        "targets": [
          "5",
          "6"
        ],
        "path": [
          "6"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "action",
        "applicable": true,
        "ok": true,
        "sources": [
          "6"
        ],
        "targets": [
          "4",
          "5",
          "6"
        ],
        "path": [
          "6"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "http->email(required)",
        "from": "http",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "2"
        ],
        "targets": [
          "5",
          "6"
        ],
        "path": [
          "2",
          "3",
          "5"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "form->transform(required)",
        "from": "form",
        "to": "transform",
        "applicable": true,
        "ok": true,
        "sources": [
          "1"
        ],
        "targets": [
          "3"
        ],
        "path": [
          "1",
          "2",
          "3"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "condition->email(required)",
        "from": "condition",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "6"
        ],
        "targets": [
          "5",
          "6"
        ],
        "path": [
          "6"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "top_k": 3,
        "threshold": 0.55,
        "boosted": [],
        "note": "soft relevance boost by embeddings (batch)"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "condition",
        "email",
        "form",
        "http",
        "transform"
      ],
      "intent_edges": [
        {
          "from": "form",
          "to": "transform",
          "ok": true,
          "path": [
            "1",
            "2",
            "3"
          ]
        },
        {
          "from": "condition",
          "to": "email",
          "ok": true,
          "path": [
            "6"
          ]
        },
        {
          "from": "condition",
          "to": "action",
          "ok": true,
          "path": [
            "6"
          ]
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Intake Form",
          "capability": "schedule",
          "relevant": true
        },
        {
          "id": "2",
          "label": "Credit Check",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "3",
          "label": "Calculate Risk Score",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Manual Review",
          "capability": "slack",
          "relevant": false
        },
        {
          "id": "5",
          "label": "Auto Approve",
          "capability": "email",
          "relevant": true
        },
        {
          "id": "6",
          "label": "Notify Applicant",
          "capability": "email",
          "relevant": true
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        },
        {
          "source": "3",
          "target": "5"
        },
        {
          "source": "4",
          "target": "6"
        },
        {
          "source": "5",
          "target": "6"
        }
      ],
      "relevant_nodes": [
        "1",
        "2",
        "3",
        "5",
        "6"
      ],
      "irrelevant_nodes": [
        "4"
      ],
      "missing_capabilities": []
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 1.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 6
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": true,
      "required_fields": {
        "2": [
          "body"
        ],
        "4": [
          "body"
        ]
      },
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "3": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "4": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "5": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "6": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ]
      },
      "missing_fields": {}
    },
    "executed_nodes": [
      "1",
      "2",
      "3",
      "4",
      "5",
      "6"
    ],
    "executed_nodes_readable": [
      "Intake Form",
      "Credit Check",
      "Calculate Risk Score",
      "Manual Review",
      "Auto Approve",
      "Notify Applicant"
    ],
    "name_map": {
      "1": "Intake Form",
      "2": "Credit Check",
      "3": "Calculate Risk Score",
      "4": "Manual Review",
      "5": "Auto Approve",
      "6": "Notify Applicant"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "noop"
      },
      "2": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "3": {
        "ok": true,
        "msg": "noop"
      },
      "4": {
        "ok": true,
        "msg": "slack ok (mock)"
      },
      "5": {
        "ok": true,
        "msg": "email ok (mock)"
      },
      "6": {
        "ok": true,
        "msg": "email ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Intake Form",
    "Credit Check",
    "Calculate Risk Score",
    "Manual Review",
    "Auto Approve",
    "Notify Applicant"
  ]
}