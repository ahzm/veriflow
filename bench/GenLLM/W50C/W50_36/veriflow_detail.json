{
  "S": 0.98,
  "M": 0.54,
  "E": 1.0,
  "Overall": 0.84,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.2,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.0,
    "penalty": 0.0,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 0.0,
    "support": 0.0,
    "order": 1.0,
    "conditional": 0.0,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.7666666666666666,
    "source": "rule+llm",
    "intent": {
      "need_condition": true,
      "need_conditional_notify": true,
      "need_db": true,
      "need_email": true,
      "need_form": false,
      "need_http": false,
      "need_schedule": true,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": true
    },
    "intent_chain": [
      "The workflow needs to be scheduled to periodically snapshot tenant configs.",
      "Email notifications are likely needed to inform operations about detected drifts and proposed remediation steps.",
      "Database interactions are necessary to store and manage tenant configurations.",
      "Conditions are required to detect drifts from the baseline configuration.",
      "Transformations may be needed to analyze the configuration data and propose remediation steps.",
      "Conditional notifications are essential to alert operations only when specific drift conditions are met."
    ],
    "irrelevant_nodes": [
      "2"
    ],
    "intent_caps": [
      "condition",
      "db",
      "email",
      "schedule",
      "transform"
    ],
    "intent_edges": [
      [
        "schedule",
        "email"
      ],
      [
        "transform",
        "db"
      ],
      [
        "condition",
        "email"
      ],
      [
        "condition",
        "action"
      ]
    ],
    "missing_capabilities": [
      "db",
      "transform",
      "email"
    ],
    "alignment": {
      "capability_matches": {
        "db": false,
        "condition": true,
        "transform": false,
        "schedule": true,
        "email": false
      },
      "edge_matches": [
        {
          "from": "schedule",
          "to": "email",
          "ok": false,
          "path_nodes": []
        },
        {
          "from": "transform",
          "to": "db",
          "ok": false,
          "path_nodes": []
        },
        {
          "from": "condition",
          "to": "email",
          "ok": false,
          "path_nodes": []
        },
        {
          "from": "condition",
          "to": "action",
          "ok": true,
          "path_nodes": [
            "3",
            "4",
            "5"
          ]
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "support_transform_required",
        "from": "intent",
        "to": "transform",
        "applicable": true,
        "ok": false,
        "sources": [],
        "targets": [],
        "path": [],
        "note": "transform requested but missing; support score forced to 0"
      },
      {
        "rule": "intent_edge",
        "from": "schedule",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [
          "1"
        ],
        "targets": [],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "intent_edge",
        "from": "transform",
        "to": "db",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [
          "3",
          "5"
        ],
        "targets": [],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "action",
        "applicable": true,
        "ok": true,
        "sources": [
          "3",
          "5"
        ],
        "targets": [
          "5"
        ],
        "path": [
          "3",
          "4",
          "5"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "schedule->email(required)",
        "from": "schedule",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [
          "1"
        ],
        "targets": [],
        "path": [],
        "note": "not applicable (sources/targets empty or graph missing)"
      },
      {
        "rule": "transform->db(optional)",
        "from": "transform",
        "to": "db",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [],
        "path": [],
        "note": "not applicable (optional)"
      },
      {
        "rule": "condition->email(required)",
        "from": "condition",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [
          "3",
          "5"
        ],
        "targets": [],
        "path": [],
        "note": "not applicable (sources/targets empty or graph missing)"
      },
      {
        "rule": "condition->action(optional)",
        "from": "condition",
        "to": "action",
        "applicable": true,
        "ok": true,
        "sources": [
          "3",
          "5"
        ],
        "targets": [
          "5"
        ],
        "path": [
          "3",
          "4",
          "5"
        ],
        "note": "optional semantic path found"
      },
      {
        "rule": "db->email(optional)",
        "from": "db",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [],
        "path": [],
        "note": "not applicable (optional)"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "top_k": 3,
        "threshold": 0.55,
        "boosted": [],
        "note": "soft relevance boost by embeddings (batch)"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "condition",
        "db",
        "email",
        "schedule",
        "transform"
      ],
      "intent_edges": [
        {
          "from": "schedule",
          "to": "email",
          "ok": false,
          "path": []
        },
        {
          "from": "transform",
          "to": "db",
          "ok": false,
          "path": []
        },
        {
          "from": "condition",
          "to": "email",
          "ok": false,
          "path": []
        },
        {
          "from": "condition",
          "to": "action",
          "ok": true,
          "path": [
            "3",
            "4",
            "5"
          ]
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Schedule Snapshot",
          "capability": "schedule",
          "relevant": true
        },
        {
          "id": "2",
          "label": "Snapshot Tenant Configs",
          "capability": "http",
          "relevant": false
        },
        {
          "id": "3",
          "label": "Detect Config Drift",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Propose Remediation Steps",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "5",
          "label": "Notify Operations",
          "capability": "slack",
          "relevant": true
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        },
        {
          "source": "4",
          "target": "5"
        }
      ],
      "relevant_nodes": [
        "1",
        "3",
        "4",
        "5"
      ],
      "irrelevant_nodes": [
        "2"
      ],
      "missing_capabilities": [
        "db",
        "transform",
        "email"
      ]
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 1.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 5
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": false,
      "required_fields": {},
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "3": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "4": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "5": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ]
      },
      "missing_fields": {}
    },
    "executed_nodes": [
      "1",
      "2",
      "3",
      "4",
      "5"
    ],
    "executed_nodes_readable": [
      "Schedule Snapshot",
      "Snapshot Tenant Configs",
      "Detect Config Drift",
      "Propose Remediation Steps",
      "Notify Operations"
    ],
    "name_map": {
      "1": "Schedule Snapshot",
      "2": "Snapshot Tenant Configs",
      "3": "Detect Config Drift",
      "4": "Propose Remediation Steps",
      "5": "Notify Operations"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "cron ok"
      },
      "2": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "3": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "4": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "5": {
        "ok": true,
        "msg": "slack ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Schedule Snapshot",
    "Snapshot Tenant Configs",
    "Detect Config Drift",
    "Propose Remediation Steps",
    "Notify Operations"
  ]
}