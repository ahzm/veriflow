{
  "S": 0.98,
  "M": 0.62,
  "E": 1.0,
  "Overall": 0.87,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.16666666666666669,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.0,
    "penalty": 0.0,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 1.0,
    "support": 1.0,
    "order": 0.0,
    "conditional": 0.0,
    "param_sem": 1.0,
    "intent_edge": 0.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.7374999999999999,
    "source": "rule+llm",
    "intent": {
      "need_condition": false,
      "need_conditional_notify": true,
      "need_db": false,
      "need_email": true,
      "need_form": true,
      "need_http": false,
      "need_schedule": false,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": true
    },
    "intent_chain": [
      "rule: matched need_form keywords",
      "rule: matched need_transform keywords",
      "The workflow involves managing campaigns, which likely requires forms for asset approvals and lead sharing.",
      "Regular performance summaries suggest the need for email notifications to partners.",
      "Tracking metrics and events indicates a need for data transformation to analyze performance.",
      "Conditional notifications may be needed to alert partners based on performance metrics."
    ],
    "irrelevant_nodes": [
      "1",
      "2",
      "4",
      "6"
    ],
    "intent_caps": [
      "email",
      "form",
      "transform"
    ],
    "intent_edges": [
      [
        "form",
        "transform"
      ]
    ],
    "missing_capabilities": [],
    "alignment": {
      "capability_matches": {
        "email": true,
        "transform": true,
        "form": true
      },
      "edge_matches": [
        {
          "from": "form",
          "to": "transform",
          "ok": false,
          "path_nodes": []
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "intent_edge",
        "from": "form",
        "to": "transform",
        "applicable": true,
        "ok": false,
        "sources": [
          "3"
        ],
        "targets": [
          "5"
        ],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "form->transform(required)",
        "from": "form",
        "to": "transform",
        "applicable": true,
        "ok": false,
        "sources": [
          "3"
        ],
        "targets": [
          "5"
        ],
        "path": [],
        "note": "required semantic path missing"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "top_k": 3,
        "threshold": 0.55,
        "boosted": [],
        "note": "soft relevance boost by embeddings (batch)"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "email",
        "form",
        "transform"
      ],
      "intent_edges": [
        {
          "from": "form",
          "to": "transform",
          "ok": false,
          "path": []
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Schedule Campaign Summary",
          "capability": "schedule",
          "relevant": false
        },
        {
          "id": "2",
          "label": "Get Campaign Metrics",
          "capability": "http",
          "relevant": false
        },
        {
          "id": "3",
          "label": "Send Performance Summary",
          "capability": "email",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Share Leads",
          "capability": "slack",
          "relevant": false
        },
        {
          "id": "5",
          "label": "Coordinate Asset Approvals",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "6",
          "label": "Track Joint Events",
          "capability": "http",
          "relevant": false
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        },
        {
          "source": "4",
          "target": "5"
        },
        {
          "source": "4",
          "target": "6"
        }
      ],
      "relevant_nodes": [
        "3",
        "5"
      ],
      "irrelevant_nodes": [
        "1",
        "2",
        "4",
        "6"
      ],
      "missing_capabilities": []
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 1.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 6
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": false,
      "required_fields": {},
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "3": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "4": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "5": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "6": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ]
      },
      "missing_fields": {}
    },
    "executed_nodes": [
      "1",
      "2",
      "3",
      "4",
      "5",
      "6"
    ],
    "executed_nodes_readable": [
      "Schedule Campaign Summary",
      "Get Campaign Metrics",
      "Send Performance Summary",
      "Share Leads",
      "Coordinate Asset Approvals",
      "Track Joint Events"
    ],
    "name_map": {
      "1": "Schedule Campaign Summary",
      "2": "Get Campaign Metrics",
      "3": "Send Performance Summary",
      "4": "Share Leads",
      "5": "Coordinate Asset Approvals",
      "6": "Track Joint Events"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "cron ok"
      },
      "2": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "3": {
        "ok": true,
        "msg": "email ok (mock)"
      },
      "4": {
        "ok": true,
        "msg": "slack ok (mock)"
      },
      "5": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "6": {
        "ok": true,
        "msg": "http ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Schedule Campaign Summary",
    "Get Campaign Metrics",
    "Send Performance Summary",
    "Share Leads",
    "Coordinate Asset Approvals",
    "Track Joint Events"
  ]
}