{
  "S": 0.98,
  "M": 0.9,
  "E": 1.0,
  "Overall": 0.96,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.125,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.1111111111111111,
    "penalty": 0.1111111111111111,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 1.0,
    "support": 1.0,
    "order": 1.0,
    "conditional": 0.35,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.8666666666666667,
    "source": "rule+llm",
    "intent": {
      "need_condition": false,
      "need_conditional_notify": false,
      "need_db": false,
      "need_email": false,
      "need_form": true,
      "need_http": false,
      "need_schedule": true,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": true
    },
    "intent_chain": [
      "rule: matched schedule keywords or English time pattern",
      "rule: matched need_form keywords",
      "rule: matched need_transform keywords",
      "The workflow involves scheduling welcome calls, indicating a need for scheduling.",
      "The onboarding process requires collecting information, suggesting the use of forms.",
      "KYC checks and document verification imply the need for data transformation.",
      "No explicit mention of email, HTTP, Slack, Telegram, or database usage was found.",
      "There are no conditions or conditional notifications specified in the description."
    ],
    "irrelevant_nodes": [
      "7",
      "8"
    ],
    "intent_caps": [
      "form",
      "schedule",
      "transform"
    ],
    "intent_edges": [
      [
        "form",
        "transform"
      ]
    ],
    "missing_capabilities": [],
    "alignment": {
      "capability_matches": {
        "transform": true,
        "schedule": true,
        "form": true
      },
      "edge_matches": [
        {
          "from": "form",
          "to": "transform",
          "ok": true,
          "path_nodes": [
            "1",
            "2",
            "3",
            "4",
            "5"
          ]
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "intent_edge",
        "from": "form",
        "to": "transform",
        "applicable": true,
        "ok": true,
        "sources": [
          "1"
        ],
        "targets": [
          "5"
        ],
        "path": [
          "1",
          "2",
          "3",
          "4",
          "5"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "form->transform(required)",
        "from": "form",
        "to": "transform",
        "applicable": true,
        "ok": true,
        "sources": [
          "1"
        ],
        "targets": [
          "5"
        ],
        "path": [
          "1",
          "2",
          "3",
          "4",
          "5"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "top_k": 3,
        "threshold": 0.55,
        "boosted": [],
        "note": "soft relevance boost by embeddings (batch)"
      },
      {
        "rule": "extra_conditional_notify",
        "from": "condition",
        "to": "action",
        "applicable": true,
        "ok": false,
        "sources": [
          "3"
        ],
        "targets": [
          "8"
        ],
        "path": [
          "3",
          "4",
          "5",
          "8"
        ],
        "note": "workflow has conditional notify but intent does not require it"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "form",
        "schedule",
        "transform"
      ],
      "intent_edges": [
        {
          "from": "form",
          "to": "transform",
          "ok": true,
          "path": [
            "1",
            "2",
            "3",
            "4",
            "5"
          ]
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Webhook",
          "capability": "schedule",
          "relevant": true
        },
        {
          "id": "2",
          "label": "KYC Check",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "3",
          "label": "Document Verification",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Create Account",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "5",
          "label": "Set Initial Limits",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "6",
          "label": "Schedule Welcome Call",
          "capability": "schedule",
          "relevant": true
        },
        {
          "id": "7",
          "label": "Track Drop-off Reasons",
          "capability": "http",
          "relevant": false
        },
        {
          "id": "8",
          "label": "Send Welcome Email",
          "capability": "email",
          "relevant": false
        },
        {
          "id": "9",
          "label": "Schedule Trigger",
          "capability": "schedule",
          "relevant": true
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        },
        {
          "source": "4",
          "target": "5"
        },
        {
          "source": "5",
          "target": "6"
        },
        {
          "source": "5",
          "target": "8"
        },
        {
          "source": "6",
          "target": "7"
        },
        {
          "source": "7",
          "target": "8"
        },
        {
          "source": "8",
          "target": "9"
        }
      ],
      "relevant_nodes": [
        "1",
        "2",
        "3",
        "4",
        "5",
        "6",
        "9"
      ],
      "irrelevant_nodes": [
        "7",
        "8"
      ],
      "missing_capabilities": []
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 1.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 9
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": false,
      "required_fields": {},
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "3": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "4": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "5": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "6": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "7": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "8": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "9": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ]
      },
      "missing_fields": {}
    },
    "executed_nodes": [
      "1",
      "9",
      "2",
      "3",
      "4",
      "5",
      "6",
      "8",
      "7"
    ],
    "executed_nodes_readable": [
      "Webhook",
      "Schedule Trigger",
      "KYC Check",
      "Document Verification",
      "Create Account",
      "Set Initial Limits",
      "Schedule Welcome Call",
      "Send Welcome Email",
      "Track Drop-off Reasons"
    ],
    "name_map": {
      "1": "Webhook",
      "2": "KYC Check",
      "3": "Document Verification",
      "4": "Create Account",
      "5": "Set Initial Limits",
      "6": "Schedule Welcome Call",
      "7": "Track Drop-off Reasons",
      "8": "Send Welcome Email",
      "9": "Schedule Trigger"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "noop"
      },
      "9": {
        "ok": true,
        "msg": "cron ok"
      },
      "2": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "3": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "4": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "5": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "6": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "8": {
        "ok": true,
        "msg": "email ok (mock)"
      },
      "7": {
        "ok": true,
        "msg": "http ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Webhook",
    "Schedule Trigger",
    "KYC Check",
    "Document Verification",
    "Create Account",
    "Set Initial Limits",
    "Schedule Welcome Call",
    "Send Welcome Email",
    "Track Drop-off Reasons"
  ]
}