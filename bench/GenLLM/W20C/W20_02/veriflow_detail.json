{
  "S": 0.98,
  "M": 0.77,
  "E": 0.8,
  "Overall": 0.85,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.16666666666666666,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.0,
    "penalty": 0.0,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 1.0,
    "support": 0.5,
    "order": 1.0,
    "conditional": 0.0,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.9416666666666668,
    "source": "rule+llm",
    "intent": {
      "need_condition": true,
      "need_conditional_notify": true,
      "need_db": true,
      "need_email": true,
      "need_form": false,
      "need_http": true,
      "need_schedule": true,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": false
    },
    "intent_chain": [
      "rule: matched schedule keywords or English time pattern",
      "rule: matched email keywords",
      "rule: matched need_http keywords",
      "rule: matched need_db keywords",
      "rule: matched need_condition keywords",
      "rule: matched need_conditional_notify (condition controls notification)",
      "The workflow is scheduled to run every hour, indicating a need for scheduling.",
      "An email summary report is sent only if anomalies are detected, indicating a need for email notifications.",
      "Sales data is pulled from a REST API, indicating a need for HTTP requests.",
      "Data is written to a database, indicating a need for database operations.",
      "The mention of detecting anomalies suggests a conditional check is necessary.",
      "The workflow does not require Slack or Telegram notifications, as they are not mentioned.",
      "There is no need for forms or data transformation based on the provided description."
    ],
    "irrelevant_nodes": [],
    "intent_caps": [
      "condition",
      "db",
      "email",
      "http",
      "schedule"
    ],
    "intent_edges": [
      [
        "schedule",
        "http"
      ],
      [
        "schedule",
        "email"
      ],
      [
        "http",
        "db"
      ],
      [
        "condition",
        "email"
      ],
      [
        "condition",
        "action"
      ]
    ],
    "missing_capabilities": [
      "condition"
    ],
    "alignment": {
      "capability_matches": {
        "db": true,
        "schedule": true,
        "http": true,
        "condition": false,
        "email": true
      },
      "edge_matches": [
        {
          "from": "schedule",
          "to": "http",
          "ok": true,
          "path_nodes": [
            "1",
            "2"
          ]
        },
        {
          "from": "schedule",
          "to": "email",
          "ok": true,
          "path_nodes": [
            "1",
            "2",
            "3",
            "4",
            "6",
            "7"
          ]
        },
        {
          "from": "http",
          "to": "db",
          "ok": true,
          "path_nodes": [
            "2",
            "3",
            "4",
            "5"
          ]
        },
        {
          "from": "condition",
          "to": "email",
          "ok": false,
          "path_nodes": []
        },
        {
          "from": "condition",
          "to": "action",
          "ok": false,
          "path_nodes": []
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "intent_edge",
        "from": "schedule",
        "to": "http",
        "applicable": true,
        "ok": true,
        "sources": [
          "1"
        ],
        "targets": [
          "2",
          "3"
        ],
        "path": [
          "1",
          "2"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "schedule",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "1"
        ],
        "targets": [
          "7"
        ],
        "path": [
          "1",
          "2",
          "3",
          "4",
          "6",
          "7"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "http",
        "to": "db",
        "applicable": true,
        "ok": true,
        "sources": [
          "2",
          "3"
        ],
        "targets": [
          "5"
        ],
        "path": [
          "2",
          "3",
          "4",
          "5"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "7"
        ],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "action",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "7"
        ],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "schedule->http(required)",
        "from": "schedule",
        "to": "http",
        "applicable": true,
        "ok": true,
        "sources": [
          "1"
        ],
        "targets": [
          "2",
          "3"
        ],
        "path": [
          "1",
          "2"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "schedule->email(required)",
        "from": "schedule",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "1"
        ],
        "targets": [
          "7"
        ],
        "path": [
          "1",
          "2",
          "3",
          "4",
          "6",
          "7"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "http->email(required)",
        "from": "http",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "2",
          "3"
        ],
        "targets": [
          "7"
        ],
        "path": [
          "2",
          "3",
          "4",
          "6",
          "7"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "http->db(optional)",
        "from": "http",
        "to": "db",
        "applicable": true,
        "ok": true,
        "sources": [
          "2",
          "3"
        ],
        "targets": [
          "5"
        ],
        "path": [
          "2",
          "3",
          "4",
          "5"
        ],
        "note": "optional semantic path found"
      },
      {
        "rule": "condition->email(required)",
        "from": "condition",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "7"
        ],
        "path": [],
        "note": "not applicable (sources/targets empty or graph missing)"
      },
      {
        "rule": "db->email(optional)",
        "from": "db",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "5"
        ],
        "targets": [
          "7"
        ],
        "path": [
          "5",
          "6",
          "7"
        ],
        "note": "optional semantic path found"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "note": "no candidate nodes to boost"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "condition",
        "db",
        "email",
        "http",
        "schedule"
      ],
      "intent_edges": [
        {
          "from": "schedule",
          "to": "http",
          "ok": true,
          "path": [
            "1",
            "2"
          ]
        },
        {
          "from": "schedule",
          "to": "email",
          "ok": true,
          "path": [
            "1",
            "2",
            "3",
            "4",
            "6",
            "7"
          ]
        },
        {
          "from": "http",
          "to": "db",
          "ok": true,
          "path": [
            "2",
            "3",
            "4",
            "5"
          ]
        },
        {
          "from": "condition",
          "to": "email",
          "ok": false,
          "path": []
        },
        {
          "from": "condition",
          "to": "action",
          "ok": false,
          "path": []
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Schedule",
          "capability": "schedule",
          "relevant": true
        },
        {
          "id": "2",
          "label": "HTTP Request Sales Data",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "3",
          "label": "HTTP Request Currency Rates",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Aggregate KPIs",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "5",
          "label": "Write to Database",
          "capability": "db",
          "relevant": true
        },
        {
          "id": "6",
          "label": "Check Anomalies",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "7",
          "label": "Send Email",
          "capability": "email",
          "relevant": true
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        },
        {
          "source": "4",
          "target": "5"
        },
        {
          "source": "4",
          "target": "6"
        },
        {
          "source": "5",
          "target": "6"
        },
        {
          "source": "6",
          "target": "7"
        }
      ],
      "relevant_nodes": [
        "1",
        "2",
        "3",
        "4",
        "5",
        "6",
        "7"
      ],
      "irrelevant_nodes": [],
      "missing_capabilities": [
        "condition"
      ]
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 0.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 7
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": true,
      "required_fields": {
        "5": [
          "kpi",
          "region"
        ]
      },
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "3": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "4": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "5": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "6": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "7": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ]
      },
      "missing_fields": {
        "5": [
          "kpi",
          "region"
        ]
      }
    },
    "executed_nodes": [
      "1",
      "2",
      "3",
      "4",
      "5",
      "6",
      "7"
    ],
    "executed_nodes_readable": [
      "Schedule",
      "HTTP Request Sales Data",
      "HTTP Request Currency Rates",
      "Aggregate KPIs",
      "Write to Database",
      "Check Anomalies",
      "Send Email"
    ],
    "name_map": {
      "1": "Schedule",
      "2": "HTTP Request Sales Data",
      "3": "HTTP Request Currency Rates",
      "4": "Aggregate KPIs",
      "5": "Write to Database",
      "6": "Check Anomalies",
      "7": "Send Email"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "cron ok"
      },
      "2": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "3": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "4": {
        "ok": true,
        "msg": "noop"
      },
      "5": {
        "ok": true,
        "msg": "noop"
      },
      "6": {
        "ok": true,
        "msg": "noop"
      },
      "7": {
        "ok": true,
        "msg": "email ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Schedule",
    "HTTP Request Sales Data",
    "HTTP Request Currency Rates",
    "Aggregate KPIs",
    "Write to Database",
    "Check Anomalies",
    "Send Email"
  ]
}