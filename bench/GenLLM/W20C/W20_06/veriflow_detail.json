{
  "S": 0.97,
  "M": 0.95,
  "E": 1.0,
  "Overall": 0.97,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.16666666666666669,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.97,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.16666666666666666,
    "penalty": 0.16666666666666666,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 1.0,
    "support": 0.6666666666666666,
    "order": 1.0,
    "conditional": 1.0,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.7699999999999999,
    "source": "rule+llm",
    "intent": {
      "need_condition": true,
      "need_conditional_notify": false,
      "need_db": true,
      "need_email": true,
      "need_form": false,
      "need_http": true,
      "need_schedule": false,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": true
    },
    "intent_chain": [
      "rule: matched email keywords",
      "rule: matched need_db keywords",
      "The workflow monitors an e-commerce order database, indicating a need for database interaction.",
      "Confirmation emails are explicitly mentioned, indicating a need for email functionality.",
      "The workflow checks inventory in an external ERP via REST, which requires HTTP communication.",
      "Orders are split into multiple shipments when necessary, suggesting the need for conditional logic.",
      "The mention of logging decisions implies a transformation of data for audit purposes."
    ],
    "irrelevant_nodes": [
      "1"
    ],
    "intent_caps": [
      "condition",
      "db",
      "email",
      "http",
      "transform"
    ],
    "intent_edges": [
      [
        "transform",
        "db"
      ],
      [
        "http",
        "db"
      ],
      [
        "condition",
        "email"
      ]
    ],
    "missing_capabilities": [
      "condition"
    ],
    "alignment": {
      "capability_matches": {
        "db": true,
        "http": true,
        "transform": true,
        "condition": false,
        "email": true
      },
      "edge_matches": [
        {
          "from": "transform",
          "to": "db",
          "ok": true,
          "path_nodes": [
            "4",
            "6"
          ]
        },
        {
          "from": "http",
          "to": "db",
          "ok": true,
          "path_nodes": [
            "2",
            "3",
            "4",
            "6"
          ]
        },
        {
          "from": "condition",
          "to": "email",
          "ok": false,
          "path_nodes": []
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "intent_edge",
        "from": "transform",
        "to": "db",
        "applicable": true,
        "ok": true,
        "sources": [
          "4"
        ],
        "targets": [
          "6"
        ],
        "path": [
          "4",
          "6"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "http",
        "to": "db",
        "applicable": true,
        "ok": true,
        "sources": [
          "2",
          "3"
        ],
        "targets": [
          "6"
        ],
        "path": [
          "2",
          "3",
          "4",
          "6"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "5"
        ],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "http->email(required)",
        "from": "http",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "2",
          "3"
        ],
        "targets": [
          "5"
        ],
        "path": [
          "2",
          "3",
          "4",
          "5"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "http->db(optional)",
        "from": "http",
        "to": "db",
        "applicable": true,
        "ok": true,
        "sources": [
          "2",
          "3"
        ],
        "targets": [
          "6"
        ],
        "path": [
          "2",
          "3",
          "4",
          "6"
        ],
        "note": "optional semantic path found"
      },
      {
        "rule": "transform->db(optional)",
        "from": "transform",
        "to": "db",
        "applicable": true,
        "ok": true,
        "sources": [
          "4"
        ],
        "targets": [
          "6"
        ],
        "path": [
          "4",
          "6"
        ],
        "note": "optional semantic path found"
      },
      {
        "rule": "condition->email(required)",
        "from": "condition",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "5"
        ],
        "path": [],
        "note": "not applicable (sources/targets empty or graph missing)"
      },
      {
        "rule": "db->email(optional)",
        "from": "db",
        "to": "email",
        "applicable": true,
        "ok": false,
        "sources": [
          "6"
        ],
        "targets": [
          "5"
        ],
        "path": [],
        "note": "optional semantic path not found"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "top_k": 3,
        "threshold": 0.55,
        "boosted": [],
        "note": "soft relevance boost by embeddings (batch)"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "condition",
        "db",
        "email",
        "http",
        "transform"
      ],
      "intent_edges": [
        {
          "from": "transform",
          "to": "db",
          "ok": true,
          "path": [
            "4",
            "6"
          ]
        },
        {
          "from": "http",
          "to": "db",
          "ok": true,
          "path": [
            "2",
            "3",
            "4",
            "6"
          ]
        },
        {
          "from": "condition",
          "to": "email",
          "ok": false,
          "path": []
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Check New Orders",
          "capability": "schedule",
          "relevant": false
        },
        {
          "id": "2",
          "label": "Get New Orders",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "3",
          "label": "Check Inventory",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Split Orders",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "5",
          "label": "Send Confirmation Email",
          "capability": "email",
          "relevant": true
        },
        {
          "id": "6",
          "label": "Log Audit Trail",
          "capability": "db",
          "relevant": true
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        },
        {
          "source": "4",
          "target": "5"
        },
        {
          "source": "4",
          "target": "6"
        }
      ],
      "relevant_nodes": [
        "2",
        "3",
        "4",
        "5",
        "6"
      ],
      "irrelevant_nodes": [
        "1"
      ],
      "missing_capabilities": [
        "condition"
      ]
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 1.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 6
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": false,
      "required_fields": {},
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "3": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "4": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "5": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "6": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ]
      },
      "missing_fields": {}
    },
    "executed_nodes": [
      "1",
      "2",
      "3",
      "4",
      "5",
      "6"
    ],
    "executed_nodes_readable": [
      "Check New Orders",
      "Get New Orders",
      "Check Inventory",
      "Split Orders",
      "Send Confirmation Email",
      "Log Audit Trail"
    ],
    "name_map": {
      "1": "Check New Orders",
      "2": "Get New Orders",
      "3": "Check Inventory",
      "4": "Split Orders",
      "5": "Send Confirmation Email",
      "6": "Log Audit Trail"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "cron ok"
      },
      "2": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "3": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "4": {
        "ok": true,
        "msg": "noop"
      },
      "5": {
        "ok": true,
        "msg": "email ok (mock)"
      },
      "6": {
        "ok": true,
        "msg": "noop"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Check New Orders",
    "Get New Orders",
    "Check Inventory",
    "Split Orders",
    "Send Confirmation Email",
    "Log Audit Trail"
  ]
}