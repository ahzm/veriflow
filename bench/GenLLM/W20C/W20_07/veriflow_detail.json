{
  "S": 0.98,
  "M": 0.79,
  "E": 0.8,
  "Overall": 0.86,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.2,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.0,
    "penalty": 0.0,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 1.0,
    "support": 0.6666666666666666,
    "order": 1.0,
    "conditional": 0.0,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.8666666666666667,
    "source": "rule+llm",
    "intent": {
      "need_condition": true,
      "need_conditional_notify": true,
      "need_db": true,
      "need_email": true,
      "need_form": false,
      "need_http": false,
      "need_schedule": true,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": true
    },
    "intent_chain": [
      "rule: matched schedule keywords or English time pattern",
      "rule: matched email keywords",
      "rule: matched need_db keywords",
      "rule: matched need_condition keywords",
      "The workflow needs to be scheduled to run periodically to aggregate metrics.",
      "Email alerts are required when thresholds are exceeded.",
      "No HTTP requests are mentioned in the description.",
      "No Slack notifications are mentioned in the description.",
      "No Telegram notifications are mentioned in the description.",
      "A time-series database is needed to store the aggregated metrics.",
      "No forms are required in the workflow.",
      "Conditions are necessary to check if thresholds are exceeded for alerts.",
      "Payload normalization indicates a transformation of data is needed.",
      "Conditional notifications are needed for alerting based on thresholds."
    ],
    "irrelevant_nodes": [],
    "intent_caps": [
      "condition",
      "db",
      "email",
      "schedule",
      "transform"
    ],
    "intent_edges": [
      [
        "schedule",
        "email"
      ],
      [
        "transform",
        "db"
      ],
      [
        "condition",
        "email"
      ],
      [
        "condition",
        "action"
      ]
    ],
    "missing_capabilities": [
      "condition"
    ],
    "alignment": {
      "capability_matches": {
        "db": true,
        "schedule": true,
        "transform": true,
        "condition": false,
        "email": true
      },
      "edge_matches": [
        {
          "from": "schedule",
          "to": "email",
          "ok": true,
          "path_nodes": [
            "1",
            "2",
            "3",
            "5"
          ]
        },
        {
          "from": "transform",
          "to": "db",
          "ok": true,
          "path_nodes": [
            "2",
            "3",
            "4"
          ]
        },
        {
          "from": "condition",
          "to": "email",
          "ok": false,
          "path_nodes": []
        },
        {
          "from": "condition",
          "to": "action",
          "ok": false,
          "path_nodes": []
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "intent_edge",
        "from": "schedule",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "1"
        ],
        "targets": [
          "5"
        ],
        "path": [
          "1",
          "2",
          "3",
          "5"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "transform",
        "to": "db",
        "applicable": true,
        "ok": true,
        "sources": [
          "2",
          "3"
        ],
        "targets": [
          "4"
        ],
        "path": [
          "2",
          "3",
          "4"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "5"
        ],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "action",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "5"
        ],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "schedule->email(required)",
        "from": "schedule",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "1"
        ],
        "targets": [
          "5"
        ],
        "path": [
          "1",
          "2",
          "3",
          "5"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "transform->db(optional)",
        "from": "transform",
        "to": "db",
        "applicable": true,
        "ok": true,
        "sources": [
          "2",
          "3"
        ],
        "targets": [
          "4"
        ],
        "path": [
          "2",
          "3",
          "4"
        ],
        "note": "optional semantic path found"
      },
      {
        "rule": "condition->email(required)",
        "from": "condition",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "5"
        ],
        "path": [],
        "note": "not applicable (sources/targets empty or graph missing)"
      },
      {
        "rule": "db->email(optional)",
        "from": "db",
        "to": "email",
        "applicable": true,
        "ok": false,
        "sources": [
          "4"
        ],
        "targets": [
          "5"
        ],
        "path": [],
        "note": "optional semantic path not found"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "note": "no candidate nodes to boost"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "condition",
        "db",
        "email",
        "schedule",
        "transform"
      ],
      "intent_edges": [
        {
          "from": "schedule",
          "to": "email",
          "ok": true,
          "path": [
            "1",
            "2",
            "3",
            "5"
          ]
        },
        {
          "from": "transform",
          "to": "db",
          "ok": true,
          "path": [
            "2",
            "3",
            "4"
          ]
        },
        {
          "from": "condition",
          "to": "email",
          "ok": false,
          "path": []
        },
        {
          "from": "condition",
          "to": "action",
          "ok": false,
          "path": []
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Webhook",
          "capability": "schedule",
          "relevant": true
        },
        {
          "id": "2",
          "label": "Normalize Payload",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "3",
          "label": "Aggregate Metrics",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Push to Time-Series DB",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "5",
          "label": "Email Alert",
          "capability": "email",
          "relevant": true
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        },
        {
          "source": "3",
          "target": "5"
        }
      ],
      "relevant_nodes": [
        "1",
        "2",
        "3",
        "4",
        "5"
      ],
      "irrelevant_nodes": [],
      "missing_capabilities": [
        "condition"
      ]
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 0.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 5
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": true,
      "required_fields": {
        "4": [
          "average",
          "deviceId"
        ],
        "5": [
          "deviceId"
        ]
      },
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "timestamp"
        ],
        "3": [
          "timestamp"
        ],
        "4": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "5": [
          "timestamp"
        ]
      },
      "missing_fields": {
        "4": [
          "average",
          "deviceId"
        ],
        "5": [
          "deviceId"
        ]
      }
    },
    "executed_nodes": [
      "1",
      "2",
      "3",
      "4",
      "5"
    ],
    "executed_nodes_readable": [
      "Webhook",
      "Normalize Payload",
      "Aggregate Metrics",
      "Push to Time-Series DB",
      "Email Alert"
    ],
    "name_map": {
      "1": "Webhook",
      "2": "Normalize Payload",
      "3": "Aggregate Metrics",
      "4": "Push to Time-Series DB",
      "5": "Email Alert"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "noop"
      },
      "2": {
        "ok": true,
        "msg": "noop"
      },
      "3": {
        "ok": true,
        "msg": "noop"
      },
      "4": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "5": {
        "ok": true,
        "msg": "email ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Webhook",
    "Normalize Payload",
    "Aggregate Metrics",
    "Push to Time-Series DB",
    "Email Alert"
  ]
}