{
  "S": 0.97,
  "M": 0.85,
  "E": 0.8,
  "Overall": 0.87,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.16666666666666669,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.97,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.16666666666666666,
    "penalty": 0.16666666666666666,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 1.0,
    "support": 1.0,
    "order": 1.0,
    "conditional": 0.0,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.8400000000000001,
    "source": "rule+llm",
    "intent": {
      "need_condition": false,
      "need_conditional_notify": true,
      "need_db": true,
      "need_email": true,
      "need_form": false,
      "need_http": true,
      "need_schedule": false,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": true
    },
    "intent_chain": [
      "rule: matched need_http keywords",
      "rule: matched need_db keywords",
      "rule: matched need_transform keywords",
      "Webhook indicates the need for HTTP integration to ingest timesheets.",
      "Validating project codes against an internal API requires HTTP requests.",
      "Computing overtime and missing entries suggests data transformation is needed.",
      "Updating a payroll spreadsheet implies database interaction for storage.",
      "Sending discrepancy alerts to HR and employees indicates the need for email notifications.",
      "Conditional notifications are necessary to alert specific users based on discrepancies."
    ],
    "irrelevant_nodes": [
      "1"
    ],
    "intent_caps": [
      "db",
      "email",
      "http",
      "transform"
    ],
    "intent_edges": [
      [
        "transform",
        "db"
      ],
      [
        "http",
        "db"
      ]
    ],
    "missing_capabilities": [],
    "alignment": {
      "capability_matches": {
        "http": true,
        "db": true,
        "transform": true,
        "email": true
      },
      "edge_matches": [
        {
          "from": "transform",
          "to": "db",
          "ok": true,
          "path_nodes": [
            "2",
            "3",
            "4"
          ]
        },
        {
          "from": "http",
          "to": "db",
          "ok": true,
          "path_nodes": [
            "2",
            "3",
            "4"
          ]
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "intent_edge",
        "from": "transform",
        "to": "db",
        "applicable": true,
        "ok": true,
        "sources": [
          "2",
          "3"
        ],
        "targets": [
          "4"
        ],
        "path": [
          "2",
          "3",
          "4"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "http",
        "to": "db",
        "applicable": true,
        "ok": true,
        "sources": [
          "2"
        ],
        "targets": [
          "4"
        ],
        "path": [
          "2",
          "3",
          "4"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "http->email(required)",
        "from": "http",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "2"
        ],
        "targets": [
          "5",
          "6"
        ],
        "path": [
          "2",
          "3",
          "5",
          "6"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "http->db(optional)",
        "from": "http",
        "to": "db",
        "applicable": true,
        "ok": true,
        "sources": [
          "2"
        ],
        "targets": [
          "4"
        ],
        "path": [
          "2",
          "3",
          "4"
        ],
        "note": "optional semantic path found"
      },
      {
        "rule": "transform->db(optional)",
        "from": "transform",
        "to": "db",
        "applicable": true,
        "ok": true,
        "sources": [
          "2",
          "3"
        ],
        "targets": [
          "4"
        ],
        "path": [
          "2",
          "3",
          "4"
        ],
        "note": "optional semantic path found"
      },
      {
        "rule": "db->email(optional)",
        "from": "db",
        "to": "email",
        "applicable": true,
        "ok": false,
        "sources": [
          "4"
        ],
        "targets": [
          "5",
          "6"
        ],
        "path": [],
        "note": "optional semantic path not found"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "top_k": 3,
        "threshold": 0.55,
        "boosted": [],
        "note": "soft relevance boost by embeddings (batch)"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "db",
        "email",
        "http",
        "transform"
      ],
      "intent_edges": [
        {
          "from": "transform",
          "to": "db",
          "ok": true,
          "path": [
            "2",
            "3",
            "4"
          ]
        },
        {
          "from": "http",
          "to": "db",
          "ok": true,
          "path": [
            "2",
            "3",
            "4"
          ]
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Webhook",
          "capability": "schedule",
          "relevant": false
        },
        {
          "id": "2",
          "label": "Validate Project Codes",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "3",
          "label": "Compute Overtime",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Update Payroll Spreadsheet",
          "capability": "db",
          "relevant": true
        },
        {
          "id": "5",
          "label": "Send Discrepancy Alert to HR",
          "capability": "email",
          "relevant": true
        },
        {
          "id": "6",
          "label": "Send Discrepancy Alert to Employee",
          "capability": "email",
          "relevant": true
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        },
        {
          "source": "3",
          "target": "5"
        },
        {
          "source": "3",
          "target": "6"
        }
      ],
      "relevant_nodes": [
        "2",
        "3",
        "4",
        "5",
        "6"
      ],
      "irrelevant_nodes": [
        "1"
      ],
      "missing_capabilities": []
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 0.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 6
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": true,
      "required_fields": {
        "2": [
          "projectCode"
        ],
        "4": [
          "employeeId",
          "overtimeHours"
        ],
        "5": [
          "employeeId"
        ],
        "6": [
          "employeeEmail",
          "employeeName"
        ]
      },
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "3": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "4": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "5": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "6": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ]
      },
      "missing_fields": {
        "2": [
          "projectCode"
        ],
        "4": [
          "employeeId",
          "overtimeHours"
        ],
        "5": [
          "employeeId"
        ],
        "6": [
          "employeeEmail",
          "employeeName"
        ]
      }
    },
    "executed_nodes": [
      "1",
      "2",
      "3",
      "4",
      "5",
      "6"
    ],
    "executed_nodes_readable": [
      "Webhook",
      "Validate Project Codes",
      "Compute Overtime",
      "Update Payroll Spreadsheet",
      "Send Discrepancy Alert to HR",
      "Send Discrepancy Alert to Employee"
    ],
    "name_map": {
      "1": "Webhook",
      "2": "Validate Project Codes",
      "3": "Compute Overtime",
      "4": "Update Payroll Spreadsheet",
      "5": "Send Discrepancy Alert to HR",
      "6": "Send Discrepancy Alert to Employee"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "noop"
      },
      "2": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "3": {
        "ok": true,
        "msg": "noop"
      },
      "4": {
        "ok": true,
        "msg": "noop"
      },
      "5": {
        "ok": true,
        "msg": "email ok (mock)"
      },
      "6": {
        "ok": true,
        "msg": "email ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Webhook",
    "Validate Project Codes",
    "Compute Overtime",
    "Update Payroll Spreadsheet",
    "Send Discrepancy Alert to HR",
    "Send Discrepancy Alert to Employee"
  ]
}