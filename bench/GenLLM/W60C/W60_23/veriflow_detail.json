{
  "S": 0.98,
  "M": 0.77,
  "E": 1.0,
  "Overall": 0.92,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.2,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.0,
    "penalty": 0.0,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 0.5,
    "support": 0.0,
    "order": 1.0,
    "conditional": 1.0,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.7166666666666667,
    "source": "rule+llm",
    "intent": {
      "need_condition": true,
      "need_conditional_notify": false,
      "need_db": true,
      "need_email": true,
      "need_form": false,
      "need_http": false,
      "need_schedule": true,
      "need_slack": true,
      "need_telegram": false,
      "need_transform": true
    },
    "intent_chain": [
      "The workflow involves managing product launches, which typically requires scheduling tasks.",
      "Coordinating announcements suggests the need for email notifications.",
      "Synchronizing content and updating pricing may involve database interactions.",
      "The need to capture launch KPIs indicates the use of conditions to evaluate success.",
      "Transforming data may be necessary to analyze KPIs effectively.",
      "Using Slack for coordination among teams is common in multi-brand environments."
    ],
    "irrelevant_nodes": [
      "5"
    ],
    "intent_caps": [
      "condition",
      "db",
      "email",
      "schedule",
      "slack",
      "transform"
    ],
    "intent_edges": [
      [
        "schedule",
        "email"
      ],
      [
        "schedule",
        "slack"
      ],
      [
        "transform",
        "db"
      ],
      [
        "condition",
        "email"
      ],
      [
        "condition",
        "slack"
      ]
    ],
    "missing_capabilities": [
      "condition",
      "db",
      "transform",
      "email"
    ],
    "alignment": {
      "capability_matches": {
        "slack": true,
        "condition": false,
        "db": false,
        "transform": false,
        "email": false,
        "schedule": true
      },
      "edge_matches": [
        {
          "from": "schedule",
          "to": "email",
          "ok": false,
          "path_nodes": []
        },
        {
          "from": "schedule",
          "to": "slack",
          "ok": true,
          "path_nodes": [
            "1",
            "2",
            "3",
            "4"
          ]
        },
        {
          "from": "transform",
          "to": "db",
          "ok": false,
          "path_nodes": []
        },
        {
          "from": "condition",
          "to": "email",
          "ok": false,
          "path_nodes": []
        },
        {
          "from": "condition",
          "to": "slack",
          "ok": false,
          "path_nodes": []
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "support_transform_required",
        "from": "intent",
        "to": "transform",
        "applicable": true,
        "ok": false,
        "sources": [],
        "targets": [],
        "path": [],
        "note": "transform requested but missing; support score forced to 0"
      },
      {
        "rule": "intent_edge",
        "from": "schedule",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [
          "1"
        ],
        "targets": [],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "intent_edge",
        "from": "schedule",
        "to": "slack",
        "applicable": true,
        "ok": true,
        "sources": [
          "1"
        ],
        "targets": [
          "4"
        ],
        "path": [
          "1",
          "2",
          "3",
          "4"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "transform",
        "to": "db",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "slack",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "4"
        ],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "schedule->email(required)",
        "from": "schedule",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [
          "1"
        ],
        "targets": [],
        "path": [],
        "note": "not applicable (sources/targets empty or graph missing)"
      },
      {
        "rule": "schedule->slack(required)",
        "from": "schedule",
        "to": "slack",
        "applicable": true,
        "ok": true,
        "sources": [
          "1"
        ],
        "targets": [
          "4"
        ],
        "path": [
          "1",
          "2",
          "3",
          "4"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "transform->db(optional)",
        "from": "transform",
        "to": "db",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [],
        "path": [],
        "note": "not applicable (optional)"
      },
      {
        "rule": "condition->slack(required)",
        "from": "condition",
        "to": "slack",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "4"
        ],
        "path": [],
        "note": "not applicable (sources/targets empty or graph missing)"
      },
      {
        "rule": "condition->email(required)",
        "from": "condition",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [],
        "path": [],
        "note": "not applicable (sources/targets empty or graph missing)"
      },
      {
        "rule": "db->email(optional)",
        "from": "db",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [],
        "path": [],
        "note": "not applicable (optional)"
      },
      {
        "rule": "db->slack(optional)",
        "from": "db",
        "to": "slack",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "4"
        ],
        "path": [],
        "note": "not applicable (optional)"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "top_k": 3,
        "threshold": 0.55,
        "boosted": [],
        "note": "soft relevance boost by embeddings (batch)"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "condition",
        "db",
        "email",
        "schedule",
        "slack",
        "transform"
      ],
      "intent_edges": [
        {
          "from": "schedule",
          "to": "email",
          "ok": false,
          "path": []
        },
        {
          "from": "schedule",
          "to": "slack",
          "ok": true,
          "path": [
            "1",
            "2",
            "3",
            "4"
          ]
        },
        {
          "from": "transform",
          "to": "db",
          "ok": false,
          "path": []
        },
        {
          "from": "condition",
          "to": "email",
          "ok": false,
          "path": []
        },
        {
          "from": "condition",
          "to": "slack",
          "ok": false,
          "path": []
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Schedule Launch",
          "capability": "schedule",
          "relevant": true
        },
        {
          "id": "2",
          "label": "Synchronize Content",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "3",
          "label": "Update Pricing",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Coordinate Announcements",
          "capability": "slack",
          "relevant": true
        },
        {
          "id": "5",
          "label": "Capture Launch KPIs",
          "capability": "http",
          "relevant": false
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        },
        {
          "source": "4",
          "target": "5"
        }
      ],
      "relevant_nodes": [
        "1",
        "2",
        "3",
        "4"
      ],
      "irrelevant_nodes": [
        "5"
      ],
      "missing_capabilities": [
        "condition",
        "db",
        "transform",
        "email"
      ]
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 1.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 5
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": false,
      "required_fields": {},
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "3": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "4": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "5": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ]
      },
      "missing_fields": {}
    },
    "executed_nodes": [
      "1",
      "2",
      "3",
      "4",
      "5"
    ],
    "executed_nodes_readable": [
      "Schedule Launch",
      "Synchronize Content",
      "Update Pricing",
      "Coordinate Announcements",
      "Capture Launch KPIs"
    ],
    "name_map": {
      "1": "Schedule Launch",
      "2": "Synchronize Content",
      "3": "Update Pricing",
      "4": "Coordinate Announcements",
      "5": "Capture Launch KPIs"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "cron ok"
      },
      "2": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "3": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "4": {
        "ok": true,
        "msg": "slack ok (mock)"
      },
      "5": {
        "ok": true,
        "msg": "http ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Schedule Launch",
    "Synchronize Content",
    "Update Pricing",
    "Coordinate Announcements",
    "Capture Launch KPIs"
  ]
}