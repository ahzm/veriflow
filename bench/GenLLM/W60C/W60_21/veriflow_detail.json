{
  "S": 0.98,
  "M": 0.92,
  "E": 1.0,
  "Overall": 0.97,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.2,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.0,
    "penalty": 0.0,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 1.0,
    "support": 0.5,
    "order": 1.0,
    "conditional": 1.0,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.75,
    "source": "rule+llm",
    "intent": {
      "need_condition": true,
      "need_conditional_notify": true,
      "need_db": true,
      "need_email": true,
      "need_form": false,
      "need_http": false,
      "need_schedule": true,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": false
    },
    "intent_chain": [
      "The workflow involves coordinating lab equipment booking, which requires scheduling to avoid conflicts.",
      "Notifying users of changes suggests the need for email notifications.",
      "Enforcing maintenance blackout windows indicates the need for conditions to be checked.",
      "Producing utilization reports implies the need for a database to store and retrieve booking data.",
      "Conditional notifications are necessary to inform users based on specific conditions like changes or conflicts."
    ],
    "irrelevant_nodes": [
      "4"
    ],
    "intent_caps": [
      "condition",
      "db",
      "email",
      "schedule"
    ],
    "intent_edges": [
      [
        "schedule",
        "email"
      ],
      [
        "condition",
        "email"
      ],
      [
        "condition",
        "action"
      ]
    ],
    "missing_capabilities": [
      "db"
    ],
    "alignment": {
      "capability_matches": {
        "email": true,
        "db": false,
        "condition": true,
        "schedule": true
      },
      "edge_matches": [
        {
          "from": "schedule",
          "to": "email",
          "ok": true,
          "path_nodes": [
            "1",
            "2",
            "3",
            "5"
          ]
        },
        {
          "from": "condition",
          "to": "email",
          "ok": true,
          "path_nodes": [
            "3"
          ]
        },
        {
          "from": "condition",
          "to": "action",
          "ok": true,
          "path_nodes": [
            "3"
          ]
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "intent_edge",
        "from": "schedule",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "1"
        ],
        "targets": [
          "3"
        ],
        "path": [
          "1",
          "2",
          "3",
          "5"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "3"
        ],
        "targets": [
          "3"
        ],
        "path": [
          "3"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "action",
        "applicable": true,
        "ok": true,
        "sources": [
          "3"
        ],
        "targets": [
          "3"
        ],
        "path": [
          "3"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "schedule->email(required)",
        "from": "schedule",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "1"
        ],
        "targets": [
          "3"
        ],
        "path": [
          "1",
          "2",
          "3",
          "5"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "condition->email(required)",
        "from": "condition",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "3"
        ],
        "targets": [
          "3"
        ],
        "path": [
          "3"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "db->email(optional)",
        "from": "db",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "3"
        ],
        "path": [],
        "note": "not applicable (optional)"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "top_k": 3,
        "threshold": 0.55,
        "boosted": [],
        "note": "soft relevance boost by embeddings (batch)"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "condition",
        "db",
        "email",
        "schedule"
      ],
      "intent_edges": [
        {
          "from": "schedule",
          "to": "email",
          "ok": true,
          "path": [
            "1",
            "2",
            "3",
            "5"
          ]
        },
        {
          "from": "condition",
          "to": "email",
          "ok": true,
          "path": [
            "3"
          ]
        },
        {
          "from": "condition",
          "to": "action",
          "ok": true,
          "path": [
            "3"
          ]
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Schedule Check",
          "capability": "schedule",
          "relevant": true
        },
        {
          "id": "2",
          "label": "Check Equipment Availability",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "3",
          "label": "Notify Users",
          "capability": "email",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Generate Utilization Report",
          "capability": "http",
          "relevant": false
        },
        {
          "id": "5",
          "label": "Maintenance Blackout Check",
          "capability": "http",
          "relevant": true
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "5"
        },
        {
          "source": "5",
          "target": "3"
        },
        {
          "source": "5",
          "target": "4"
        }
      ],
      "relevant_nodes": [
        "1",
        "2",
        "3",
        "5"
      ],
      "irrelevant_nodes": [
        "4"
      ],
      "missing_capabilities": [
        "db"
      ]
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 1.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 5
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": false,
      "required_fields": {},
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "5": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "3": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "4": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ]
      },
      "missing_fields": {}
    },
    "executed_nodes": [
      "1",
      "2",
      "5",
      "3",
      "4"
    ],
    "executed_nodes_readable": [
      "Schedule Check",
      "Check Equipment Availability",
      "Maintenance Blackout Check",
      "Notify Users",
      "Generate Utilization Report"
    ],
    "name_map": {
      "1": "Schedule Check",
      "2": "Check Equipment Availability",
      "3": "Notify Users",
      "4": "Generate Utilization Report",
      "5": "Maintenance Blackout Check"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "cron ok"
      },
      "2": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "5": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "3": {
        "ok": true,
        "msg": "email ok (mock)"
      },
      "4": {
        "ok": true,
        "msg": "http ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Schedule Check",
    "Check Equipment Availability",
    "Maintenance Blackout Check",
    "Notify Users",
    "Generate Utilization Report"
  ]
}