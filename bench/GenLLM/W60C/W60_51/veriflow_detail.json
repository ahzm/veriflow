{
  "S": 0.98,
  "M": 0.92,
  "E": 1.0,
  "Overall": 0.97,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.14285714285714285,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.0,
    "penalty": 0.0,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 1.0,
    "support": 0.5,
    "order": 1.0,
    "conditional": 1.0,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.7625,
    "source": "rule+llm",
    "intent": {
      "need_condition": true,
      "need_conditional_notify": true,
      "need_db": true,
      "need_email": true,
      "need_form": false,
      "need_http": false,
      "need_schedule": false,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": false
    },
    "intent_chain": [
      "The workflow involves managing real-estate transactions, which typically require communication, hence the need for email notifications.",
      "Tracking offers, contingencies, inspections, and closings suggests the need for a database to store and manage this information.",
      "The mention of notifications to all parties indicates a need for conditional notifications based on the status of transactions.",
      "The complexity of the transactions implies that conditions may need to be checked, thus the need for conditions in the workflow."
    ],
    "irrelevant_nodes": [
      "1",
      "2",
      "3",
      "4",
      "5"
    ],
    "intent_caps": [
      "condition",
      "db",
      "email"
    ],
    "intent_edges": [
      [
        "condition",
        "email"
      ],
      [
        "condition",
        "action"
      ]
    ],
    "missing_capabilities": [
      "db"
    ],
    "alignment": {
      "capability_matches": {
        "db": false,
        "condition": true,
        "email": true
      },
      "edge_matches": [
        {
          "from": "condition",
          "to": "email",
          "ok": true,
          "path_nodes": [
            "6"
          ]
        },
        {
          "from": "condition",
          "to": "action",
          "ok": true,
          "path_nodes": [
            "6",
            "7"
          ]
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "6",
          "7"
        ],
        "targets": [
          "6"
        ],
        "path": [
          "6"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "action",
        "applicable": true,
        "ok": true,
        "sources": [
          "6",
          "7"
        ],
        "targets": [
          "6",
          "7"
        ],
        "path": [
          "6",
          "7"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "condition->email(required)",
        "from": "condition",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "6",
          "7"
        ],
        "targets": [
          "6"
        ],
        "path": [
          "6"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "db->email(optional)",
        "from": "db",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "6"
        ],
        "path": [],
        "note": "not applicable (optional)"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "top_k": 3,
        "threshold": 0.55,
        "boosted": [],
        "note": "soft relevance boost by embeddings (batch)"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "condition",
        "db",
        "email"
      ],
      "intent_edges": [
        {
          "from": "condition",
          "to": "email",
          "ok": true,
          "path": [
            "6"
          ]
        },
        {
          "from": "condition",
          "to": "action",
          "ok": true,
          "path": [
            "6",
            "7"
          ]
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Webhook",
          "capability": "schedule",
          "relevant": false
        },
        {
          "id": "2",
          "label": "Track Offers",
          "capability": "transform",
          "relevant": false
        },
        {
          "id": "3",
          "label": "Track Contingencies",
          "capability": "transform",
          "relevant": false
        },
        {
          "id": "4",
          "label": "Track Inspections",
          "capability": "transform",
          "relevant": false
        },
        {
          "id": "5",
          "label": "Track Closings",
          "capability": "transform",
          "relevant": false
        },
        {
          "id": "6",
          "label": "Send Email Notifications",
          "capability": "email",
          "relevant": true
        },
        {
          "id": "7",
          "label": "Send Slack Notification",
          "capability": "slack",
          "relevant": true
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        },
        {
          "source": "4",
          "target": "5"
        },
        {
          "source": "5",
          "target": "6"
        },
        {
          "source": "5",
          "target": "7"
        }
      ],
      "relevant_nodes": [
        "6",
        "7"
      ],
      "irrelevant_nodes": [
        "1",
        "2",
        "3",
        "4",
        "5"
      ],
      "missing_capabilities": [
        "db"
      ]
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 1.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 7
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": false,
      "required_fields": {},
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "timestamp"
        ],
        "3": [
          "timestamp"
        ],
        "4": [
          "timestamp"
        ],
        "5": [
          "timestamp"
        ],
        "6": [
          "timestamp"
        ],
        "7": [
          "timestamp"
        ]
      },
      "missing_fields": {}
    },
    "executed_nodes": [
      "1",
      "2",
      "3",
      "4",
      "5",
      "6",
      "7"
    ],
    "executed_nodes_readable": [
      "Webhook",
      "Track Offers",
      "Track Contingencies",
      "Track Inspections",
      "Track Closings",
      "Send Email Notifications",
      "Send Slack Notification"
    ],
    "name_map": {
      "1": "Webhook",
      "2": "Track Offers",
      "3": "Track Contingencies",
      "4": "Track Inspections",
      "5": "Track Closings",
      "6": "Send Email Notifications",
      "7": "Send Slack Notification"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "noop"
      },
      "2": {
        "ok": true,
        "msg": "noop"
      },
      "3": {
        "ok": true,
        "msg": "noop"
      },
      "4": {
        "ok": true,
        "msg": "noop"
      },
      "5": {
        "ok": true,
        "msg": "noop"
      },
      "6": {
        "ok": true,
        "msg": "email ok (mock)"
      },
      "7": {
        "ok": true,
        "msg": "slack ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Webhook",
    "Track Offers",
    "Track Contingencies",
    "Track Inspections",
    "Track Closings",
    "Send Email Notifications",
    "Send Slack Notification"
  ]
}