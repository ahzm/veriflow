{
  "S": 0.98,
  "M": 1.0,
  "E": 0.8,
  "Overall": 0.93,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.125,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.0,
    "penalty": 0.0,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 1.0,
    "support": 1.0,
    "order": 1.0,
    "conditional": 1.0,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.825,
    "source": "rule+llm",
    "intent": {
      "need_condition": false,
      "need_conditional_notify": false,
      "need_db": false,
      "need_email": true,
      "need_form": true,
      "need_http": true,
      "need_schedule": false,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": true
    },
    "intent_chain": [
      "rule: matched email keywords",
      "rule: matched need_http keywords",
      "rule: matched need_form keywords",
      "The workflow involves synchronizing marketing leads, indicating the need for webforms.",
      "Sending a weekly performance dashboard via email indicates a need for email.",
      "Using a scoring API suggests the need for HTTP requests to interact with external services.",
      "Deduplicating contacts and scoring leads implies some transformation of data.",
      "No scheduling, Slack, Telegram, database, or conditional notifications are mentioned."
    ],
    "irrelevant_nodes": [],
    "intent_caps": [
      "email",
      "form",
      "http",
      "transform"
    ],
    "intent_edges": [
      [
        "form",
        "transform"
      ]
    ],
    "missing_capabilities": [],
    "alignment": {
      "capability_matches": {
        "form": true,
        "transform": true,
        "http": true,
        "email": true
      },
      "edge_matches": [
        {
          "from": "form",
          "to": "transform",
          "ok": true,
          "path_nodes": [
            "1",
            "2"
          ]
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "intent_edge",
        "from": "form",
        "to": "transform",
        "applicable": true,
        "ok": true,
        "sources": [
          "1",
          "7"
        ],
        "targets": [
          "2",
          "4"
        ],
        "path": [
          "1",
          "2"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "http->email(required)",
        "from": "http",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "3",
          "5",
          "6"
        ],
        "targets": [
          "7",
          "8"
        ],
        "path": [
          "3",
          "4",
          "5",
          "6",
          "8"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "form->transform(required)",
        "from": "form",
        "to": "transform",
        "applicable": true,
        "ok": true,
        "sources": [
          "1",
          "7"
        ],
        "targets": [
          "2",
          "4"
        ],
        "path": [
          "1",
          "2"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "note": "no candidate nodes to boost"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "email",
        "form",
        "http",
        "transform"
      ],
      "intent_edges": [
        {
          "from": "form",
          "to": "transform",
          "ok": true,
          "path": [
            "1",
            "2"
          ]
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Webhook",
          "capability": "schedule",
          "relevant": true
        },
        {
          "id": "2",
          "label": "Deduplicate Contacts",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "3",
          "label": "Score Leads",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Filter High Scoring Leads",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "5",
          "label": "Push to CRM",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "6",
          "label": "Create Sales Task",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "7",
          "label": "Send Weekly Performance Dashboard",
          "capability": "email",
          "relevant": true
        },
        {
          "id": "8",
          "label": "Schedule Weekly Email",
          "capability": "schedule",
          "relevant": true
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        },
        {
          "source": "4",
          "target": "5"
        },
        {
          "source": "5",
          "target": "6"
        },
        {
          "source": "6",
          "target": "8"
        },
        {
          "source": "8",
          "target": "7"
        }
      ],
      "relevant_nodes": [
        "1",
        "2",
        "3",
        "4",
        "5",
        "6",
        "7",
        "8"
      ],
      "irrelevant_nodes": [],
      "missing_capabilities": []
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 0.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 8
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": true,
      "required_fields": {
        "3": [
          "contacts"
        ],
        "5": [
          "lead"
        ],
        "6": [
          "leadId"
        ]
      },
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "timestamp"
        ],
        "3": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "4": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "5": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "6": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "8": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "7": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ]
      },
      "missing_fields": {
        "3": [
          "contacts"
        ],
        "5": [
          "lead"
        ],
        "6": [
          "leadId"
        ]
      }
    },
    "executed_nodes": [
      "1",
      "8",
      "2",
      "7",
      "3",
      "4",
      "5",
      "6"
    ],
    "executed_nodes_readable": [
      "Webhook",
      "Schedule Weekly Email",
      "Deduplicate Contacts",
      "Send Weekly Performance Dashboard",
      "Score Leads",
      "Filter High Scoring Leads",
      "Push to CRM",
      "Create Sales Task"
    ],
    "name_map": {
      "1": "Webhook",
      "2": "Deduplicate Contacts",
      "3": "Score Leads",
      "4": "Filter High Scoring Leads",
      "5": "Push to CRM",
      "6": "Create Sales Task",
      "7": "Send Weekly Performance Dashboard",
      "8": "Schedule Weekly Email"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "noop"
      },
      "8": {
        "ok": true,
        "msg": "cron ok"
      },
      "2": {
        "ok": true,
        "msg": "noop"
      },
      "7": {
        "ok": true,
        "msg": "email ok (mock)"
      },
      "3": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "4": {
        "ok": true,
        "msg": "noop"
      },
      "5": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "6": {
        "ok": true,
        "msg": "http ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Webhook",
    "Schedule Weekly Email",
    "Deduplicate Contacts",
    "Send Weekly Performance Dashboard",
    "Score Leads",
    "Filter High Scoring Leads",
    "Push to CRM",
    "Create Sales Task"
  ]
}