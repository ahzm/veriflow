{
  "S": 0.98,
  "M": 0.59,
  "E": 1.0,
  "Overall": 0.86,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.2,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.0,
    "penalty": 0.0,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 0.5,
    "support": 1.0,
    "order": 0.0,
    "conditional": 0.0,
    "param_sem": 1.0,
    "intent_edge": 0.6666666666666666,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.8999999999999999,
    "source": "rule+llm",
    "intent": {
      "need_condition": false,
      "need_conditional_notify": true,
      "need_db": true,
      "need_email": true,
      "need_form": false,
      "need_http": true,
      "need_schedule": true,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": true
    },
    "intent_chain": [
      "rule: matched need_http keywords",
      "rule: matched need_db keywords",
      "rule: matched need_transform keywords",
      "The workflow involves monitoring a repository, which implies a scheduling mechanism to check for new contracts.",
      "Setting renewal reminders indicates the need for email notifications to alert legal teams.",
      "Using an NLP API suggests an HTTP request to extract key clauses.",
      "Storing metadata in a database confirms the need for database integration.",
      "The extraction of key clauses indicates a transformation of data from contracts.",
      "Notifying legal teams before important deadlines suggests conditional notifications based on the renewal reminders."
    ],
    "irrelevant_nodes": [],
    "intent_caps": [
      "db",
      "email",
      "http",
      "schedule",
      "transform"
    ],
    "intent_edges": [
      [
        "schedule",
        "http"
      ],
      [
        "schedule",
        "email"
      ],
      [
        "transform",
        "db"
      ],
      [
        "http",
        "db"
      ]
    ],
    "missing_capabilities": [
      "email"
    ],
    "alignment": {
      "capability_matches": {
        "db": true,
        "schedule": true,
        "transform": true,
        "http": true,
        "email": false
      },
      "edge_matches": [
        {
          "from": "schedule",
          "to": "http",
          "ok": true,
          "path_nodes": [
            "1",
            "2"
          ]
        },
        {
          "from": "schedule",
          "to": "email",
          "ok": false,
          "path_nodes": []
        },
        {
          "from": "transform",
          "to": "db",
          "ok": false,
          "path_nodes": []
        },
        {
          "from": "http",
          "to": "db",
          "ok": true,
          "path_nodes": [
            "2",
            "3"
          ]
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "intent_edge",
        "from": "schedule",
        "to": "http",
        "applicable": true,
        "ok": true,
        "sources": [
          "1",
          "4"
        ],
        "targets": [
          "2"
        ],
        "path": [
          "1",
          "2"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "schedule",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [
          "1",
          "4"
        ],
        "targets": [],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "intent_edge",
        "from": "transform",
        "to": "db",
        "applicable": true,
        "ok": false,
        "sources": [
          "4"
        ],
        "targets": [
          "3"
        ],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "intent_edge",
        "from": "http",
        "to": "db",
        "applicable": true,
        "ok": true,
        "sources": [
          "2"
        ],
        "targets": [
          "3"
        ],
        "path": [
          "2",
          "3"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "schedule->http(required)",
        "from": "schedule",
        "to": "http",
        "applicable": true,
        "ok": true,
        "sources": [
          "1",
          "4"
        ],
        "targets": [
          "2"
        ],
        "path": [
          "1",
          "2"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "schedule->email(required)",
        "from": "schedule",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [
          "1",
          "4"
        ],
        "targets": [],
        "path": [],
        "note": "not applicable (sources/targets empty or graph missing)"
      },
      {
        "rule": "http->email(required)",
        "from": "http",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [
          "2"
        ],
        "targets": [],
        "path": [],
        "note": "not applicable (sources/targets empty or graph missing)"
      },
      {
        "rule": "http->db(optional)",
        "from": "http",
        "to": "db",
        "applicable": true,
        "ok": true,
        "sources": [
          "2"
        ],
        "targets": [
          "3"
        ],
        "path": [
          "2",
          "3"
        ],
        "note": "optional semantic path found"
      },
      {
        "rule": "transform->db(optional)",
        "from": "transform",
        "to": "db",
        "applicable": true,
        "ok": false,
        "sources": [
          "4"
        ],
        "targets": [
          "3"
        ],
        "path": [],
        "note": "optional semantic path not found"
      },
      {
        "rule": "condition->action(optional)",
        "from": "condition",
        "to": "action",
        "applicable": true,
        "ok": true,
        "sources": [
          "5"
        ],
        "targets": [
          "5"
        ],
        "path": [
          "5"
        ],
        "note": "optional semantic path found"
      },
      {
        "rule": "db->email(optional)",
        "from": "db",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [
          "3"
        ],
        "targets": [],
        "path": [],
        "note": "not applicable (optional)"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "note": "no candidate nodes to boost"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "db",
        "email",
        "http",
        "schedule",
        "transform"
      ],
      "intent_edges": [
        {
          "from": "schedule",
          "to": "http",
          "ok": true,
          "path": [
            "1",
            "2"
          ]
        },
        {
          "from": "schedule",
          "to": "email",
          "ok": false,
          "path": []
        },
        {
          "from": "transform",
          "to": "db",
          "ok": false,
          "path": []
        },
        {
          "from": "http",
          "to": "db",
          "ok": true,
          "path": [
            "2",
            "3"
          ]
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Monitor Repository",
          "capability": "schedule",
          "relevant": true
        },
        {
          "id": "2",
          "label": "Extract Key Clauses",
          "capability": "http",
          "relevant": true
        },
        {
          "id": "3",
          "label": "Store Metadata",
          "capability": "db",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Set Renewal Reminders",
          "capability": "schedule",
          "relevant": true
        },
        {
          "id": "5",
          "label": "Notify Legal Teams",
          "capability": "slack",
          "relevant": true
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        },
        {
          "source": "4",
          "target": "5"
        }
      ],
      "relevant_nodes": [
        "1",
        "2",
        "3",
        "4",
        "5"
      ],
      "irrelevant_nodes": [],
      "missing_capabilities": [
        "email"
      ]
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 1.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 5
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": false,
      "required_fields": {},
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "3": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "4": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "5": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ]
      },
      "missing_fields": {}
    },
    "executed_nodes": [
      "1",
      "4",
      "2",
      "5",
      "3"
    ],
    "executed_nodes_readable": [
      "Monitor Repository",
      "Set Renewal Reminders",
      "Extract Key Clauses",
      "Notify Legal Teams",
      "Store Metadata"
    ],
    "name_map": {
      "1": "Monitor Repository",
      "2": "Extract Key Clauses",
      "3": "Store Metadata",
      "4": "Set Renewal Reminders",
      "5": "Notify Legal Teams"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "cron ok"
      },
      "4": {
        "ok": true,
        "msg": "cron ok"
      },
      "2": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "5": {
        "ok": true,
        "msg": "slack ok (mock)"
      },
      "3": {
        "ok": true,
        "msg": "noop"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Monitor Repository",
    "Set Renewal Reminders",
    "Extract Key Clauses",
    "Notify Legal Teams",
    "Store Metadata"
  ]
}