{
  "S": 0.98,
  "M": 1.0,
  "E": 1.0,
  "Overall": 0.99,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.2,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.0,
    "penalty": 0.0,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 1.0,
    "support": 1.0,
    "order": 1.0,
    "conditional": 1.0,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.8166666666666668,
    "source": "rule+llm",
    "intent": {
      "need_condition": true,
      "need_conditional_notify": true,
      "need_db": false,
      "need_email": false,
      "need_form": false,
      "need_http": false,
      "need_schedule": false,
      "need_slack": true,
      "need_telegram": false,
      "need_transform": false
    },
    "intent_chain": [
      "rule: matched need_condition keywords",
      "The workflow involves notifying support and marketing teams, indicating a need for Slack notifications.",
      "Monitoring error and usage metrics suggests the need for conditional logic to handle rollbacks based on error rates.",
      "The mention of rolling back flags if error rates exceed a threshold implies a conditional notification mechanism."
    ],
    "irrelevant_nodes": [
      "1",
      "2",
      "5",
      "6"
    ],
    "intent_caps": [
      "condition",
      "slack"
    ],
    "intent_edges": [
      [
        "condition",
        "slack"
      ],
      [
        "condition",
        "action"
      ]
    ],
    "missing_capabilities": [],
    "alignment": {
      "capability_matches": {
        "condition": true,
        "slack": true
      },
      "edge_matches": [
        {
          "from": "condition",
          "to": "slack",
          "ok": true,
          "path_nodes": [
            "3",
            "4"
          ]
        },
        {
          "from": "condition",
          "to": "action",
          "ok": true,
          "path_nodes": [
            "3",
            "4"
          ]
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "slack",
        "applicable": true,
        "ok": true,
        "sources": [
          "3",
          "4"
        ],
        "targets": [
          "3",
          "4"
        ],
        "path": [
          "3",
          "4"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "action",
        "applicable": true,
        "ok": true,
        "sources": [
          "3",
          "4"
        ],
        "targets": [
          "3",
          "4"
        ],
        "path": [
          "3",
          "4"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "condition->slack(required)",
        "from": "condition",
        "to": "slack",
        "applicable": true,
        "ok": true,
        "sources": [
          "3",
          "4"
        ],
        "targets": [
          "3",
          "4"
        ],
        "path": [
          "3",
          "4"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "top_k": 3,
        "threshold": 0.55,
        "boosted": [],
        "note": "soft relevance boost by embeddings (batch)"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "condition",
        "slack"
      ],
      "intent_edges": [
        {
          "from": "condition",
          "to": "slack",
          "ok": true,
          "path": [
            "3",
            "4"
          ]
        },
        {
          "from": "condition",
          "to": "action",
          "ok": true,
          "path": [
            "3",
            "4"
          ]
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Product Release Event",
          "capability": "schedule",
          "relevant": false
        },
        {
          "id": "2",
          "label": "Update Feature Flags",
          "capability": "http",
          "relevant": false
        },
        {
          "id": "3",
          "label": "Notify Support Team",
          "capability": "slack",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Notify Marketing Team",
          "capability": "slack",
          "relevant": true
        },
        {
          "id": "5",
          "label": "Monitor Metrics",
          "capability": "http",
          "relevant": false
        },
        {
          "id": "6",
          "label": "Rollback Feature Flags",
          "capability": "http",
          "relevant": false
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "2",
          "target": "4"
        },
        {
          "source": "3",
          "target": "5"
        },
        {
          "source": "4",
          "target": "5"
        },
        {
          "source": "5",
          "target": "6"
        }
      ],
      "relevant_nodes": [
        "3",
        "4"
      ],
      "irrelevant_nodes": [
        "1",
        "2",
        "5",
        "6"
      ],
      "missing_capabilities": []
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 1.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 6
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": false,
      "required_fields": {},
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "3": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "4": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "5": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ],
        "6": [
          "body",
          "headers",
          "statusCode",
          "timestamp"
        ]
      },
      "missing_fields": {}
    },
    "executed_nodes": [
      "1",
      "2",
      "3",
      "4",
      "5",
      "6"
    ],
    "executed_nodes_readable": [
      "Product Release Event",
      "Update Feature Flags",
      "Notify Support Team",
      "Notify Marketing Team",
      "Monitor Metrics",
      "Rollback Feature Flags"
    ],
    "name_map": {
      "1": "Product Release Event",
      "2": "Update Feature Flags",
      "3": "Notify Support Team",
      "4": "Notify Marketing Team",
      "5": "Monitor Metrics",
      "6": "Rollback Feature Flags"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "noop"
      },
      "2": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "3": {
        "ok": true,
        "msg": "slack ok (mock)"
      },
      "4": {
        "ok": true,
        "msg": "slack ok (mock)"
      },
      "5": {
        "ok": true,
        "msg": "http ok (mock)"
      },
      "6": {
        "ok": true,
        "msg": "http ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Product Release Event",
    "Update Feature Flags",
    "Notify Support Team",
    "Notify Marketing Team",
    "Monitor Metrics",
    "Rollback Feature Flags"
  ]
}