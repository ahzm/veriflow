{
  "S": 0.98,
  "M": 0.74,
  "E": 0.8,
  "Overall": 0.84,
  "struct_detail": {
    "schema_ok": 1.0,
    "connected_ratio": 1.0,
    "acyclic": 1.0,
    "orphan_ratio": 0.0,
    "avg_out_norm": 0.16666666666666666,
    "exit_coverage": 1.0,
    "base_structural_score": 0.96,
    "final_S": 0.98,
    "unreachable_ratio": 0.0,
    "dead_end_ratio": 0.14285714285714285,
    "penalty": 0.14285714285714285,
    "k": 0.15,
    "explanation": {
      "connected_ratio": "Fraction of nodes in the largest weakly connected component",
      "acyclic": "1.0 means no directed cycles; 0.0 means at least one cycle exists",
      "orphan_ratio": "Fraction of nodes with no incoming and no outgoing edges",
      "avg_out_norm": "Average out-degree normalized by maximum possible out-degree",
      "exit_coverage": "Fraction of terminal nodes that are reachable from triggers",
      "unreachable_ratio": "Fraction of nodes not reachable from any trigger",
      "dead_end_ratio": "Reachable nodes/chains that do not lead to terminal actions"
    }
  },
  "semantic_detail": {
    "trigger": 1.0,
    "action": 1.0,
    "support": 0.3333333333333333,
    "order": 1.0,
    "conditional": 0.0,
    "param_sem": 1.0,
    "intent_edge": 1.0,
    "intent_edge_note": "ratio of satisfied intent-graph edges",
    "params_req": {},
    "intent_conf": 0.7916666666666666,
    "source": "rule+llm",
    "intent": {
      "need_condition": true,
      "need_conditional_notify": true,
      "need_db": true,
      "need_email": true,
      "need_form": false,
      "need_http": false,
      "need_schedule": true,
      "need_slack": false,
      "need_telegram": false,
      "need_transform": true
    },
    "intent_chain": [
      "rule: matched need_transform keywords",
      "The workflow involves tracking submission deadlines, indicating a need for scheduling.",
      "Routing draft responses to legal and sales for approval suggests the use of email notifications.",
      "Ingesting RFP documents and extracting key requirements implies the need for database interactions.",
      "Mapping requirements to standard answers indicates a transformation of data.",
      "The need for conditional notifications arises from the approval process involving multiple stakeholders."
    ],
    "irrelevant_nodes": [],
    "intent_caps": [
      "condition",
      "db",
      "email",
      "schedule",
      "transform"
    ],
    "intent_edges": [
      [
        "schedule",
        "email"
      ],
      [
        "transform",
        "db"
      ],
      [
        "condition",
        "email"
      ],
      [
        "condition",
        "action"
      ]
    ],
    "missing_capabilities": [
      "db",
      "condition"
    ],
    "alignment": {
      "capability_matches": {
        "db": false,
        "schedule": true,
        "transform": true,
        "email": true,
        "condition": false
      },
      "edge_matches": [
        {
          "from": "schedule",
          "to": "email",
          "ok": true,
          "path_nodes": [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6"
          ]
        },
        {
          "from": "transform",
          "to": "db",
          "ok": false,
          "path_nodes": []
        },
        {
          "from": "condition",
          "to": "email",
          "ok": false,
          "path_nodes": []
        },
        {
          "from": "condition",
          "to": "action",
          "ok": false,
          "path_nodes": []
        }
      ]
    },
    "score_weights": {
      "trigger": 1.0,
      "action": 1.0,
      "support": 1.0,
      "order": 1.0,
      "conditional": 1.0,
      "param_sem": 1.0,
      "intent_edge": 0.5
    },
    "evidence": [
      {
        "rule": "intent_edge",
        "from": "schedule",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "1",
          "7"
        ],
        "targets": [
          "5",
          "6"
        ],
        "path": [
          "1",
          "2",
          "3",
          "4",
          "5",
          "6"
        ],
        "note": "intent edge satisfied"
      },
      {
        "rule": "intent_edge",
        "from": "transform",
        "to": "db",
        "applicable": false,
        "ok": null,
        "sources": [
          "2",
          "3",
          "4"
        ],
        "targets": [],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "5",
          "6"
        ],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "intent_edge",
        "from": "condition",
        "to": "action",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "5",
          "6"
        ],
        "path": [],
        "note": "intent edge missing"
      },
      {
        "rule": "schedule->email(required)",
        "from": "schedule",
        "to": "email",
        "applicable": true,
        "ok": true,
        "sources": [
          "1",
          "7"
        ],
        "targets": [
          "5",
          "6"
        ],
        "path": [
          "1",
          "2",
          "3",
          "4",
          "5",
          "6"
        ],
        "note": "required semantic path found"
      },
      {
        "rule": "transform->db(optional)",
        "from": "transform",
        "to": "db",
        "applicable": false,
        "ok": null,
        "sources": [
          "2",
          "3",
          "4"
        ],
        "targets": [],
        "path": [],
        "note": "not applicable (optional)"
      },
      {
        "rule": "condition->email(required)",
        "from": "condition",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "5",
          "6"
        ],
        "path": [],
        "note": "not applicable (sources/targets empty or graph missing)"
      },
      {
        "rule": "db->email(optional)",
        "from": "db",
        "to": "email",
        "applicable": false,
        "ok": null,
        "sources": [],
        "targets": [
          "5",
          "6"
        ],
        "path": [],
        "note": "not applicable (optional)"
      },
      {
        "rule": "embedding_relevance",
        "applicable": true,
        "ok": true,
        "note": "no candidate nodes to boost"
      }
    ],
    "alignment_graph": {
      "intent_caps": [
        "condition",
        "db",
        "email",
        "schedule",
        "transform"
      ],
      "intent_edges": [
        {
          "from": "schedule",
          "to": "email",
          "ok": true,
          "path": [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6"
          ]
        },
        {
          "from": "transform",
          "to": "db",
          "ok": false,
          "path": []
        },
        {
          "from": "condition",
          "to": "email",
          "ok": false,
          "path": []
        },
        {
          "from": "condition",
          "to": "action",
          "ok": false,
          "path": []
        }
      ],
      "workflow_nodes": [
        {
          "id": "1",
          "label": "Webhook",
          "capability": "schedule",
          "relevant": true
        },
        {
          "id": "2",
          "label": "NLP Extract Requirements",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "3",
          "label": "Map to Standard Answers",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "4",
          "label": "Generate Draft Response",
          "capability": "transform",
          "relevant": true
        },
        {
          "id": "5",
          "label": "Send to Legal for Approval",
          "capability": "email",
          "relevant": true
        },
        {
          "id": "6",
          "label": "Send to Sales for Approval",
          "capability": "email",
          "relevant": true
        },
        {
          "id": "7",
          "label": "Track Submission Deadline",
          "capability": "schedule",
          "relevant": true
        }
      ],
      "workflow_edges": [
        {
          "source": "1",
          "target": "2"
        },
        {
          "source": "2",
          "target": "3"
        },
        {
          "source": "3",
          "target": "4"
        },
        {
          "source": "4",
          "target": "5"
        },
        {
          "source": "4",
          "target": "6"
        },
        {
          "source": "5",
          "target": "7"
        },
        {
          "source": "6",
          "target": "7"
        }
      ],
      "relevant_nodes": [
        "1",
        "2",
        "3",
        "4",
        "5",
        "6",
        "7"
      ],
      "irrelevant_nodes": [],
      "missing_capabilities": [
        "db",
        "condition"
      ]
    }
  },
  "exec_detail": {
    "param_ok": 1.0,
    "path_ok": 1.0,
    "runtime_ok": 1.0,
    "dataflow_ok": 0.0,
    "weights": {
      "param": 0.4,
      "path": 0.25,
      "run": 0.15,
      "dataflow": 0.2
    },
    "missing_params": [],
    "param_detail": {
      "checked_nodes": 7
    },
    "unreachable_nodes": [],
    "dataflow_detail": {
      "applicable": true,
      "required_fields": {
        "5": [
          "draftResponse"
        ],
        "6": [
          "draftResponse"
        ]
      },
      "available_fields": {
        "1": [
          "timestamp"
        ],
        "2": [
          "timestamp"
        ],
        "3": [
          "timestamp"
        ],
        "4": [
          "timestamp"
        ],
        "5": [
          "timestamp"
        ],
        "6": [
          "timestamp"
        ],
        "7": [
          "timestamp"
        ]
      },
      "missing_fields": {
        "5": [
          "draftResponse"
        ],
        "6": [
          "draftResponse"
        ]
      }
    },
    "executed_nodes": [
      "1",
      "7",
      "2",
      "3",
      "4",
      "5",
      "6"
    ],
    "executed_nodes_readable": [
      "Webhook",
      "Track Submission Deadline",
      "NLP Extract Requirements",
      "Map to Standard Answers",
      "Generate Draft Response",
      "Send to Legal for Approval",
      "Send to Sales for Approval"
    ],
    "name_map": {
      "1": "Webhook",
      "2": "NLP Extract Requirements",
      "3": "Map to Standard Answers",
      "4": "Generate Draft Response",
      "5": "Send to Legal for Approval",
      "6": "Send to Sales for Approval",
      "7": "Track Submission Deadline"
    },
    "node_results": {
      "1": {
        "ok": true,
        "msg": "noop"
      },
      "7": {
        "ok": true,
        "msg": "cron ok"
      },
      "2": {
        "ok": true,
        "msg": "noop"
      },
      "3": {
        "ok": true,
        "msg": "noop"
      },
      "4": {
        "ok": true,
        "msg": "noop"
      },
      "5": {
        "ok": true,
        "msg": "email ok (mock)"
      },
      "6": {
        "ok": true,
        "msg": "email ok (mock)"
      }
    },
    "time_budget_sec": 2.0,
    "faulted_nodes": [],
    "fault_profile": "medium",
    "faults_enabled": false
  },
  "executed_path": [
    "Webhook",
    "Track Submission Deadline",
    "NLP Extract Requirements",
    "Map to Standard Answers",
    "Generate Draft Response",
    "Send to Legal for Approval",
    "Send to Sales for Approval"
  ]
}